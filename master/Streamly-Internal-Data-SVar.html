<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Streamly.Internal.Data.SVar</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Streamly.Internal.Data.SVar.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">streamly-master: Beautiful Streaming, Concurrent and Reactive Composition</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) 2017 Harendra Kumar</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>streamly@composewell.com</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>GHC</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Streamly.Internal.Data.SVar</p></div><div id="description"><p class="caption">Description</p><div class="doc empty">&nbsp;</div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">type</span> <a href="#t:MonadAsync">MonadAsync</a> m = (<a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadBaseControl <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> m, MonadThrow m)</li><li class="src short"><span class="keyword">data</span> <a href="#t:SVarStyle">SVarStyle</a><ul class="subs"><li>= <a href="#v:AsyncVar">AsyncVar</a></li><li>| <a href="#v:WAsyncVar">WAsyncVar</a></li><li>| <a href="#v:ParallelVar">ParallelVar</a></li><li>| <a href="#v:AheadVar">AheadVar</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:SVarStopStyle">SVarStopStyle</a><ul class="subs"><li>= <a href="#v:StopNone">StopNone</a></li><li>| <a href="#v:StopAny">StopAny</a></li><li>| <a href="#v:StopBy">StopBy</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:SVar">SVar</a> t m a = <a href="#v:SVar">SVar</a> {<ul class="subs"><li><a href="#v:svarStyle">svarStyle</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVarStyle" title="Streamly.Internal.Data.SVar">SVarStyle</a></li><li><a href="#v:svarMrun">svarMrun</a> :: <a href="Streamly-Internal-Data-SVar.html#t:RunInIO" title="Streamly.Internal.Data.SVar">RunInIO</a> m</li><li><a href="#v:svarStopStyle">svarStopStyle</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVarStopStyle" title="Streamly.Internal.Data.SVar">SVarStopStyle</a></li><li><a href="#v:svarStopBy">svarStopBy</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Concurrent.html#t:ThreadId" title="Control.Concurrent">ThreadId</a></li><li><a href="#v:outputQueue">outputQueue</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> ([<a href="Streamly-Internal-Data-SVar.html#t:ChildEvent" title="Streamly.Internal.Data.SVar">ChildEvent</a> a], <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>)</li><li><a href="#v:outputDoorBell">outputDoorBell</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> ()</li><li><a href="#v:readOutputQ">readOutputQ</a> :: m [<a href="Streamly-Internal-Data-SVar.html#t:ChildEvent" title="Streamly.Internal.Data.SVar">ChildEvent</a> a]</li><li><a href="#v:postProcess">postProcess</a> :: m <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li><a href="#v:outputQueueFromConsumer">outputQueueFromConsumer</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> ([<a href="Streamly-Internal-Data-SVar.html#t:ChildEvent" title="Streamly.Internal.Data.SVar">ChildEvent</a> a], <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>)</li><li><a href="#v:outputDoorBellFromConsumer">outputDoorBellFromConsumer</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> ()</li><li><a href="#v:maxWorkerLimit">maxWorkerLimit</a> :: <a href="Streamly-Internal-Data-SVar.html#t:Limit" title="Streamly.Internal.Data.SVar">Limit</a></li><li><a href="#v:maxBufferLimit">maxBufferLimit</a> :: <a href="Streamly-Internal-Data-SVar.html#t:Limit" title="Streamly.Internal.Data.SVar">Limit</a></li><li><a href="#v:pushBufferSpace">pushBufferSpace</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> Count</li><li><a href="#v:pushBufferPolicy">pushBufferPolicy</a> :: PushBufferPolicy</li><li><a href="#v:pushBufferMVar">pushBufferMVar</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> ()</li><li><a href="#v:remainingWork">remainingWork</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> Count)</li><li><a href="#v:yieldRateInfo">yieldRateInfo</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="Streamly-Internal-Data-SVar.html#t:YieldRateInfo" title="Streamly.Internal.Data.SVar">YieldRateInfo</a></li><li><a href="#v:enqueue">enqueue</a> :: t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li><a href="#v:isWorkDone">isWorkDone</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li><a href="#v:isQueueDone">isQueueDone</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li><a href="#v:needDoorBell">needDoorBell</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li><a href="#v:workLoop">workLoop</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="Streamly-Internal-Data-SVar.html#t:WorkerInfo" title="Streamly.Internal.Data.SVar">WorkerInfo</a> -&gt; m ()</li><li><a href="#v:workerThreads">workerThreads</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> (<a href="https://hackage.haskell.org/package/containers-0.6.0.1/docs/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Concurrent.html#t:ThreadId" title="Control.Concurrent">ThreadId</a>)</li><li><a href="#v:workerCount">workerCount</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:accountThread">accountThread</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Concurrent.html#t:ThreadId" title="Control.Concurrent">ThreadId</a> -&gt; m ()</li><li><a href="#v:workerStopMVar">workerStopMVar</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> ()</li><li><a href="#v:svarStats">svarStats</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVarStats" title="Streamly.Internal.Data.SVar">SVarStats</a></li><li><a href="#v:svarRef">svarRef</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> ())</li><li><a href="#v:svarInspectMode">svarInspectMode</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li><a href="#v:svarCreator">svarCreator</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Concurrent.html#t:ThreadId" title="Control.Concurrent">ThreadId</a></li><li><a href="#v:outputHeap">outputHeap</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> (Heap (Entry <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="Streamly-Internal-Data-SVar.html#t:AheadHeapEntry" title="Streamly.Internal.Data.SVar">AheadHeapEntry</a> t m a)), <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>)</li><li><a href="#v:aheadWorkQueue">aheadWorkQueue</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> ([t m a], <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>)</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:Limit">Limit</a><ul class="subs"><li>= <a href="#v:Unlimited">Unlimited</a></li><li>| <a href="#v:Limited">Limited</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Word.html#t:Word" title="Data.Word">Word</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:State">State</a> t m a</li><li class="src short"><a href="#v:defState">defState</a> :: <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a</li><li class="src short"><a href="#v:adaptState">adaptState</a> :: <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a -&gt; <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t n b</li><li class="src short"><a href="#v:getMaxThreads">getMaxThreads</a> :: <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a -&gt; <a href="Streamly-Internal-Data-SVar.html#t:Limit" title="Streamly.Internal.Data.SVar">Limit</a></li><li class="src short"><a href="#v:setMaxThreads">setMaxThreads</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a -&gt; <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a</li><li class="src short"><a href="#v:getMaxBuffer">getMaxBuffer</a> :: <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a -&gt; <a href="Streamly-Internal-Data-SVar.html#t:Limit" title="Streamly.Internal.Data.SVar">Limit</a></li><li class="src short"><a href="#v:setMaxBuffer">setMaxBuffer</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a -&gt; <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a</li><li class="src short"><a href="#v:getStreamRate">getStreamRate</a> :: <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="Streamly-Internal-Data-SVar.html#t:Rate" title="Streamly.Internal.Data.SVar">Rate</a></li><li class="src short"><a href="#v:setStreamRate">setStreamRate</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="Streamly-Internal-Data-SVar.html#t:Rate" title="Streamly.Internal.Data.SVar">Rate</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a -&gt; <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a</li><li class="src short"><a href="#v:setStreamLatency">setStreamLatency</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a -&gt; <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a</li><li class="src short"><a href="#v:getYieldLimit">getYieldLimit</a> :: <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> Count</li><li class="src short"><a href="#v:setYieldLimit">setYieldLimit</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int64" title="Data.Int">Int64</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a -&gt; <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a</li><li class="src short"><a href="#v:getInspectMode">getInspectMode</a> :: <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:setInspectMode">setInspectMode</a> :: <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a -&gt; <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a</li><li class="src short"><a href="#v:recordMaxWorkers">recordMaxWorkers</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; m ()</li><li class="src short"><a href="#v:cleanupSVar">cleanupSVar</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:cleanupSVarFromWorker">cleanupSVarFromWorker</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:newAheadVar">newAheadVar</a> :: <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m =&gt; <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a -&gt; t m a -&gt; (<a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> ([t m a], <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> (Heap (Entry <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="Streamly-Internal-Data-SVar.html#t:AheadHeapEntry" title="Streamly.Internal.Data.SVar">AheadHeapEntry</a> t m a)), <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a -&gt; <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="Streamly-Internal-Data-SVar.html#t:WorkerInfo" title="Streamly.Internal.Data.SVar">WorkerInfo</a> -&gt; m ()) -&gt; m (<a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a)</li><li class="src short"><a href="#v:newParallelVar">newParallelVar</a> :: <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m =&gt; <a href="Streamly-Internal-Data-SVar.html#t:SVarStopStyle" title="Streamly.Internal.Data.SVar">SVarStopStyle</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a -&gt; m (<a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a)</li><li class="src short"><a href="#v:captureMonadState">captureMonadState</a> :: MonadBaseControl <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> m =&gt; m (<a href="Streamly-Internal-Data-SVar.html#t:RunInIO" title="Streamly.Internal.Data.SVar">RunInIO</a> m)</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:RunInIO">RunInIO</a> m = <a href="#v:RunInIO">RunInIO</a> {<ul class="subs"><li><a href="#v:runInIO">runInIO</a> :: <span class="keyword">forall</span> b. m b -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> (StM m b)</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:WorkerInfo">WorkerInfo</a> = <a href="#v:WorkerInfo">WorkerInfo</a> {<ul class="subs"><li><a href="#v:workerYieldMax">workerYieldMax</a> :: Count</li><li><a href="#v:workerYieldCount">workerYieldCount</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> Count</li><li><a href="#v:workerLatencyStart">workerLatencyStart</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> (Count, <a href="Streamly-Internal-Data-Time-Units.html#t:AbsTime" title="Streamly.Internal.Data.Time.Units">AbsTime</a>)</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:YieldRateInfo">YieldRateInfo</a> = <a href="#v:YieldRateInfo">YieldRateInfo</a> {<ul class="subs"><li><a href="#v:svarLatencyTarget">svarLatencyTarget</a> :: <a href="Streamly-Internal-Data-Time-Units.html#t:NanoSecond64" title="Streamly.Internal.Data.Time.Units">NanoSecond64</a></li><li><a href="#v:svarLatencyRange">svarLatencyRange</a> :: LatencyRange</li><li><a href="#v:svarRateBuffer">svarRateBuffer</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:svarGainedLostYields">svarGainedLostYields</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> Count</li><li><a href="#v:svarAllTimeLatency">svarAllTimeLatency</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> (Count, <a href="Streamly-Internal-Data-Time-Units.html#t:AbsTime" title="Streamly.Internal.Data.Time.Units">AbsTime</a>)</li><li><a href="#v:workerBootstrapLatency">workerBootstrapLatency</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="Streamly-Internal-Data-Time-Units.html#t:NanoSecond64" title="Streamly.Internal.Data.Time.Units">NanoSecond64</a></li><li><a href="#v:workerPollingInterval">workerPollingInterval</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> Count</li><li><a href="#v:workerPendingLatency">workerPendingLatency</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> (Count, Count, <a href="Streamly-Internal-Data-Time-Units.html#t:NanoSecond64" title="Streamly.Internal.Data.Time.Units">NanoSecond64</a>)</li><li><a href="#v:workerCollectedLatency">workerCollectedLatency</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> (Count, Count, <a href="Streamly-Internal-Data-Time-Units.html#t:NanoSecond64" title="Streamly.Internal.Data.Time.Units">NanoSecond64</a>)</li><li><a href="#v:workerMeasuredLatency">workerMeasuredLatency</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> <a href="Streamly-Internal-Data-Time-Units.html#t:NanoSecond64" title="Streamly.Internal.Data.Time.Units">NanoSecond64</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:ThreadAbort">ThreadAbort</a> = <a href="#v:ThreadAbort">ThreadAbort</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:ChildEvent">ChildEvent</a> a<ul class="subs"><li>= <a href="#v:ChildYield">ChildYield</a> a</li><li>| <a href="#v:ChildStop">ChildStop</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Concurrent.html#t:ThreadId" title="Control.Concurrent">ThreadId</a> (<a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a>)</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:AheadHeapEntry">AheadHeapEntry</a> (t :: (<a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) m a<ul class="subs"><li>= <a href="#v:AheadEntryNull">AheadEntryNull</a></li><li>| <a href="#v:AheadEntryPure">AheadEntryPure</a> a</li><li>| <a href="#v:AheadEntryStream">AheadEntryStream</a> (t m a)</li></ul></li><li class="src short"><a href="#v:send">send</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="Streamly-Internal-Data-SVar.html#t:ChildEvent" title="Streamly.Internal.Data.SVar">ChildEvent</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:sendToProducer">sendToProducer</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="Streamly-Internal-Data-SVar.html#t:ChildEvent" title="Streamly.Internal.Data.SVar">ChildEvent</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:sendYield">sendYield</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="Streamly-Internal-Data-SVar.html#t:WorkerInfo" title="Streamly.Internal.Data.SVar">WorkerInfo</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:ChildEvent" title="Streamly.Internal.Data.SVar">ChildEvent</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:sendStop">sendStop</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="Streamly-Internal-Data-SVar.html#t:WorkerInfo" title="Streamly.Internal.Data.SVar">WorkerInfo</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:sendStopToProducer">sendStopToProducer</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; m ()</li><li class="src short"><a href="#v:enqueueLIFO">enqueueLIFO</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> [t m a] -&gt; t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:enqueueFIFO">enqueueFIFO</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; LinkedQueue (t m a) -&gt; t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:enqueueAhead">enqueueAhead</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> ([t m a], <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:reEnqueueAhead">reEnqueueAhead</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> ([t m a], <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:pushWorkerPar">pushWorkerPar</a> :: <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m =&gt; <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; (<a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="Streamly-Internal-Data-SVar.html#t:WorkerInfo" title="Streamly.Internal.Data.SVar">WorkerInfo</a> -&gt; m ()) -&gt; m ()</li><li class="src short"><a href="#v:handleChildException">handleChildException</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:handleFoldException">handleFoldException</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:queueEmptyAhead">queueEmptyAhead</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> ([t m a], <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; m <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:dequeueAhead">dequeueAhead</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> ([t m a], <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; m (<a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (t m a, <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>))</li><li class="src short"><span class="keyword">data</span> <a href="#t:HeapDequeueResult">HeapDequeueResult</a> t m a<ul class="subs"><li>= <a href="#v:Clearing">Clearing</a></li><li>| <a href="#v:Waiting">Waiting</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li>| <a href="#v:Ready">Ready</a> (Entry <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="Streamly-Internal-Data-SVar.html#t:AheadHeapEntry" title="Streamly.Internal.Data.SVar">AheadHeapEntry</a> t m a))</li></ul></li><li class="src short"><a href="#v:dequeueFromHeap">dequeueFromHeap</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> (Heap (Entry <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="Streamly-Internal-Data-SVar.html#t:AheadHeapEntry" title="Streamly.Internal.Data.SVar">AheadHeapEntry</a> t m a)), <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Streamly-Internal-Data-SVar.html#t:HeapDequeueResult" title="Streamly.Internal.Data.SVar">HeapDequeueResult</a> t m a)</li><li class="src short"><a href="#v:dequeueFromHeapSeq">dequeueFromHeapSeq</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> (Heap (Entry <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="Streamly-Internal-Data-SVar.html#t:AheadHeapEntry" title="Streamly.Internal.Data.SVar">AheadHeapEntry</a> t m a)), <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Streamly-Internal-Data-SVar.html#t:HeapDequeueResult" title="Streamly.Internal.Data.SVar">HeapDequeueResult</a> t m a)</li><li class="src short"><a href="#v:requeueOnHeapTop">requeueOnHeapTop</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> (Heap (Entry <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="Streamly-Internal-Data-SVar.html#t:AheadHeapEntry" title="Streamly.Internal.Data.SVar">AheadHeapEntry</a> t m a)), <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; Entry <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="Streamly-Internal-Data-SVar.html#t:AheadHeapEntry" title="Streamly.Internal.Data.SVar">AheadHeapEntry</a> t m a) -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:updateHeapSeq">updateHeapSeq</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> (Heap (Entry <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="Streamly-Internal-Data-SVar.html#t:AheadHeapEntry" title="Streamly.Internal.Data.SVar">AheadHeapEntry</a> t m a)), <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:withIORef">withIORef</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> a -&gt; (a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> b) -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> b</li><li class="src short"><a href="#v:heapIsSane">heapIsSane</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Rate">Rate</a> = <a href="#v:Rate">Rate</a> {<ul class="subs"><li><a href="#v:rateLow">rateLow</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Prelude.html#t:Double" title="Prelude">Double</a></li><li><a href="#v:rateGoal">rateGoal</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Prelude.html#t:Double" title="Prelude">Double</a></li><li><a href="#v:rateHigh">rateHigh</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Prelude.html#t:Double" title="Prelude">Double</a></li><li><a href="#v:rateBuffer">rateBuffer</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></li></ul>}</li><li class="src short"><a href="#v:getYieldRateInfo">getYieldRateInfo</a> :: <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="Streamly-Internal-Data-SVar.html#t:YieldRateInfo" title="Streamly.Internal.Data.SVar">YieldRateInfo</a>)</li><li class="src short"><a href="#v:newSVarStats">newSVarStats</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Streamly-Internal-Data-SVar.html#t:SVarStats" title="Streamly.Internal.Data.SVar">SVarStats</a></li><li class="src short"><a href="#v:collectLatency">collectLatency</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="Streamly-Internal-Data-SVar.html#t:YieldRateInfo" title="Streamly.Internal.Data.SVar">YieldRateInfo</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> (Count, <a href="Streamly-Internal-Data-Time-Units.html#t:AbsTime" title="Streamly.Internal.Data.Time.Units">AbsTime</a>, <a href="Streamly-Internal-Data-Time-Units.html#t:NanoSecond64" title="Streamly.Internal.Data.Time.Units">NanoSecond64</a>)</li><li class="src short"><a href="#v:workerUpdateLatency">workerUpdateLatency</a> :: <a href="Streamly-Internal-Data-SVar.html#t:YieldRateInfo" title="Streamly.Internal.Data.SVar">YieldRateInfo</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:WorkerInfo" title="Streamly.Internal.Data.SVar">WorkerInfo</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:isBeyondMaxRate">isBeyondMaxRate</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="Streamly-Internal-Data-SVar.html#t:YieldRateInfo" title="Streamly.Internal.Data.SVar">YieldRateInfo</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:workerRateControl">workerRateControl</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="Streamly-Internal-Data-SVar.html#t:YieldRateInfo" title="Streamly.Internal.Data.SVar">YieldRateInfo</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:WorkerInfo" title="Streamly.Internal.Data.SVar">WorkerInfo</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:updateYieldCount">updateYieldCount</a> :: <a href="Streamly-Internal-Data-SVar.html#t:WorkerInfo" title="Streamly.Internal.Data.SVar">WorkerInfo</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> Count</li><li class="src short"><a href="#v:decrementYieldLimit">decrementYieldLimit</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:incrementYieldLimit">incrementYieldLimit</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:decrementBufferLimit">decrementBufferLimit</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:incrementBufferLimit">incrementBufferLimit</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:postProcessBounded">postProcessBounded</a> :: <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m =&gt; <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; m <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:postProcessPaced">postProcessPaced</a> :: <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m =&gt; <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; m <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:readOutputQBounded">readOutputQBounded</a> :: <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m =&gt; <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; m [<a href="Streamly-Internal-Data-SVar.html#t:ChildEvent" title="Streamly.Internal.Data.SVar">ChildEvent</a> a]</li><li class="src short"><a href="#v:readOutputQPaced">readOutputQPaced</a> :: <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m =&gt; <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; m [<a href="Streamly-Internal-Data-SVar.html#t:ChildEvent" title="Streamly.Internal.Data.SVar">ChildEvent</a> a]</li><li class="src short"><a href="#v:readOutputQBasic">readOutputQBasic</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> ([<a href="Streamly-Internal-Data-SVar.html#t:ChildEvent" title="Streamly.Internal.Data.SVar">ChildEvent</a> a], <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> ([<a href="Streamly-Internal-Data-SVar.html#t:ChildEvent" title="Streamly.Internal.Data.SVar">ChildEvent</a> a], <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>)</li><li class="src short"><a href="#v:dispatchWorkerPaced">dispatchWorkerPaced</a> :: <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m =&gt; <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; m <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:sendFirstWorker">sendFirstWorker</a> :: <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m =&gt; <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; t m a -&gt; m (<a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a)</li><li class="src short"><a href="#v:delThread">delThread</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Concurrent.html#t:ThreadId" title="Control.Concurrent">ThreadId</a> -&gt; m ()</li><li class="src short"><a href="#v:modifyThread">modifyThread</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Concurrent.html#t:ThreadId" title="Control.Concurrent">ThreadId</a> -&gt; m ()</li><li class="src short"><a href="#v:doFork">doFork</a> :: MonadBaseControl <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> m =&gt; m () -&gt; <a href="Streamly-Internal-Data-SVar.html#t:RunInIO" title="Streamly.Internal.Data.SVar">RunInIO</a> m -&gt; (<a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> ()) -&gt; m <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Concurrent.html#t:ThreadId" title="Control.Concurrent">ThreadId</a></li><li class="src short"><a href="#v:fork">fork</a> :: MonadBaseControl <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> m =&gt; m () -&gt; m <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Concurrent.html#t:ThreadId" title="Control.Concurrent">ThreadId</a></li><li class="src short"><a href="#v:forkManaged">forkManaged</a> :: (<a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadBaseControl <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> m) =&gt; m () -&gt; m <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Concurrent.html#t:ThreadId" title="Control.Concurrent">ThreadId</a></li><li class="src short"><a href="#v:toStreamVar">toStreamVar</a> :: <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m =&gt; <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; t m a -&gt; m ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:SVarStats">SVarStats</a> = <a href="#v:SVarStats">SVarStats</a> {<ul class="subs"><li><a href="#v:totalDispatches">totalDispatches</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:maxWorkers">maxWorkers</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:maxOutQSize">maxOutQSize</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:maxHeapSize">maxHeapSize</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:maxWorkQSize">maxWorkQSize</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:avgWorkerLatency">avgWorkerLatency</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> (Count, <a href="Streamly-Internal-Data-Time-Units.html#t:NanoSecond64" title="Streamly.Internal.Data.Time.Units">NanoSecond64</a>)</li><li><a href="#v:minWorkerLatency">minWorkerLatency</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> <a href="Streamly-Internal-Data-Time-Units.html#t:NanoSecond64" title="Streamly.Internal.Data.Time.Units">NanoSecond64</a></li><li><a href="#v:maxWorkerLatency">maxWorkerLatency</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> <a href="Streamly-Internal-Data-Time-Units.html#t:NanoSecond64" title="Streamly.Internal.Data.Time.Units">NanoSecond64</a></li><li><a href="#v:svarStopTime">svarStopTime</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> (<a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="Streamly-Internal-Data-Time-Units.html#t:AbsTime" title="Streamly.Internal.Data.Time.Units">AbsTime</a>)</li></ul>}</li><li class="src short"><a href="#v:dumpSVar">dumpSVar</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-String.html#t:String" title="Data.String">String</a></li><li class="src short"><a href="#v:printSVar">printSVar</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:withDiagMVar">withDiagMVar</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> () -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> ()</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:MonadAsync" class="def">MonadAsync</a> m = (<a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadBaseControl <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> m, MonadThrow m) <a href="src/Streamly.Internal.Data.SVar.html#MonadAsync" class="link">Source</a> <a href="#t:MonadAsync" class="selflink">#</a></p><div class="doc"><p>A monad that can perform concurrent or parallel IO operations. Streams
 that can be composed concurrently require the underlying monad to be
 <code><a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a></code>.</p><p><em>Since: 0.1.0</em></p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SVarStyle" class="def">SVarStyle</a> <a href="src/Streamly.Internal.Data.SVar.html#SVarStyle" class="link">Source</a> <a href="#t:SVarStyle" class="selflink">#</a></p><div class="doc"><p>Identify the type of the SVar. Two computations using the same style can
 be scheduled on the same SVar.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:AsyncVar" class="def">AsyncVar</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:WAsyncVar" class="def">WAsyncVar</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ParallelVar" class="def">ParallelVar</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:AheadVar" class="def">AheadVar</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><details id="i:SVarStyle" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SVarStyle:Eq:1"></span> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Streamly-Internal-Data-SVar.html#t:SVarStyle" title="Streamly.Internal.Data.SVar">SVarStyle</a></span> <a href="src/Streamly.Internal.Data.SVar.html#line-211" class="link">Source</a> <a href="#t:SVarStyle" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SVarStyle:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-SVar.html">Streamly.Internal.Data.SVar</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVarStyle" title="Streamly.Internal.Data.SVar">SVarStyle</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:SVarStyle" title="Streamly.Internal.Data.SVar">SVarStyle</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVarStyle" title="Streamly.Internal.Data.SVar">SVarStyle</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:SVarStyle" title="Streamly.Internal.Data.SVar">SVarStyle</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SVarStyle:Show:2"></span> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Streamly-Internal-Data-SVar.html#t:SVarStyle" title="Streamly.Internal.Data.SVar">SVarStyle</a></span> <a href="src/Streamly.Internal.Data.SVar.html#line-211" class="link">Source</a> <a href="#t:SVarStyle" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SVarStyle:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-SVar.html">Streamly.Internal.Data.SVar</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:SVarStyle" title="Streamly.Internal.Data.SVar">SVarStyle</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVarStyle" title="Streamly.Internal.Data.SVar">SVarStyle</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Streamly-Internal-Data-SVar.html#t:SVarStyle" title="Streamly.Internal.Data.SVar">SVarStyle</a>] -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SVarStopStyle" class="def">SVarStopStyle</a> <a href="src/Streamly.Internal.Data.SVar.html#SVarStopStyle" class="link">Source</a> <a href="#t:SVarStopStyle" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:StopNone" class="def">StopNone</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:StopAny" class="def">StopAny</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:StopBy" class="def">StopBy</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><details id="i:SVarStopStyle" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SVarStopStyle:Eq:1"></span> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Streamly-Internal-Data-SVar.html#t:SVarStopStyle" title="Streamly.Internal.Data.SVar">SVarStopStyle</a></span> <a href="src/Streamly.Internal.Data.SVar.html#line-376" class="link">Source</a> <a href="#t:SVarStopStyle" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SVarStopStyle:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-SVar.html">Streamly.Internal.Data.SVar</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVarStopStyle" title="Streamly.Internal.Data.SVar">SVarStopStyle</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:SVarStopStyle" title="Streamly.Internal.Data.SVar">SVarStopStyle</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVarStopStyle" title="Streamly.Internal.Data.SVar">SVarStopStyle</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:SVarStopStyle" title="Streamly.Internal.Data.SVar">SVarStopStyle</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SVarStopStyle:Show:2"></span> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Streamly-Internal-Data-SVar.html#t:SVarStopStyle" title="Streamly.Internal.Data.SVar">SVarStopStyle</a></span> <a href="src/Streamly.Internal.Data.SVar.html#line-376" class="link">Source</a> <a href="#t:SVarStopStyle" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SVarStopStyle:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-SVar.html">Streamly.Internal.Data.SVar</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:SVarStopStyle" title="Streamly.Internal.Data.SVar">SVarStopStyle</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVarStopStyle" title="Streamly.Internal.Data.SVar">SVarStopStyle</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Streamly-Internal-Data-SVar.html#t:SVarStopStyle" title="Streamly.Internal.Data.SVar">SVarStopStyle</a>] -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SVar" class="def">SVar</a> t m a <a href="src/Streamly.Internal.Data.SVar.html#SVar" class="link">Source</a> <a href="#t:SVar" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SVar" class="def">SVar</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:svarStyle" class="def">svarStyle</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVarStyle" title="Streamly.Internal.Data.SVar">SVarStyle</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:svarMrun" class="def">svarMrun</a> :: <a href="Streamly-Internal-Data-SVar.html#t:RunInIO" title="Streamly.Internal.Data.SVar">RunInIO</a> m</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:svarStopStyle" class="def">svarStopStyle</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVarStopStyle" title="Streamly.Internal.Data.SVar">SVarStopStyle</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:svarStopBy" class="def">svarStopBy</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Concurrent.html#t:ThreadId" title="Control.Concurrent">ThreadId</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:outputQueue" class="def">outputQueue</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> ([<a href="Streamly-Internal-Data-SVar.html#t:ChildEvent" title="Streamly.Internal.Data.SVar">ChildEvent</a> a], <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:outputDoorBell" class="def">outputDoorBell</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> ()</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:readOutputQ" class="def">readOutputQ</a> :: m [<a href="Streamly-Internal-Data-SVar.html#t:ChildEvent" title="Streamly.Internal.Data.SVar">ChildEvent</a> a]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:postProcess" class="def">postProcess</a> :: m <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:outputQueueFromConsumer" class="def">outputQueueFromConsumer</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> ([<a href="Streamly-Internal-Data-SVar.html#t:ChildEvent" title="Streamly.Internal.Data.SVar">ChildEvent</a> a], <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:outputDoorBellFromConsumer" class="def">outputDoorBellFromConsumer</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> ()</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:maxWorkerLimit" class="def">maxWorkerLimit</a> :: <a href="Streamly-Internal-Data-SVar.html#t:Limit" title="Streamly.Internal.Data.SVar">Limit</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:maxBufferLimit" class="def">maxBufferLimit</a> :: <a href="Streamly-Internal-Data-SVar.html#t:Limit" title="Streamly.Internal.Data.SVar">Limit</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:pushBufferSpace" class="def">pushBufferSpace</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> Count</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:pushBufferPolicy" class="def">pushBufferPolicy</a> :: PushBufferPolicy</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:pushBufferMVar" class="def">pushBufferMVar</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> ()</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:remainingWork" class="def">remainingWork</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> Count)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:yieldRateInfo" class="def">yieldRateInfo</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="Streamly-Internal-Data-SVar.html#t:YieldRateInfo" title="Streamly.Internal.Data.SVar">YieldRateInfo</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:enqueue" class="def">enqueue</a> :: t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> ()</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:isWorkDone" class="def">isWorkDone</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:isQueueDone" class="def">isQueueDone</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:needDoorBell" class="def">needDoorBell</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:workLoop" class="def">workLoop</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="Streamly-Internal-Data-SVar.html#t:WorkerInfo" title="Streamly.Internal.Data.SVar">WorkerInfo</a> -&gt; m ()</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:workerThreads" class="def">workerThreads</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> (<a href="https://hackage.haskell.org/package/containers-0.6.0.1/docs/Data-Set.html#t:Set" title="Data.Set">Set</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Concurrent.html#t:ThreadId" title="Control.Concurrent">ThreadId</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:workerCount" class="def">workerCount</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:accountThread" class="def">accountThread</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Concurrent.html#t:ThreadId" title="Control.Concurrent">ThreadId</a> -&gt; m ()</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:workerStopMVar" class="def">workerStopMVar</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> ()</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:svarStats" class="def">svarStats</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVarStats" title="Streamly.Internal.Data.SVar">SVarStats</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:svarRef" class="def">svarRef</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> ())</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:svarInspectMode" class="def">svarInspectMode</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:svarCreator" class="def">svarCreator</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Concurrent.html#t:ThreadId" title="Control.Concurrent">ThreadId</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:outputHeap" class="def">outputHeap</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> (Heap (Entry <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="Streamly-Internal-Data-SVar.html#t:AheadHeapEntry" title="Streamly.Internal.Data.SVar">AheadHeapEntry</a> t m a)), <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:aheadWorkQueue" class="def">aheadWorkQueue</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> ([t m a], <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>)</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Limit" class="def">Limit</a> <a href="src/Streamly.Internal.Data.SVar.html#Limit" class="link">Source</a> <a href="#t:Limit" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Unlimited" class="def">Unlimited</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Limited" class="def">Limited</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Word.html#t:Word" title="Data.Word">Word</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><details id="i:Limit" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Limit:Eq:1"></span> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Streamly-Internal-Data-SVar.html#t:Limit" title="Streamly.Internal.Data.SVar">Limit</a></span> <a href="src/Streamly.Internal.Data.SVar.html#line-359" class="link">Source</a> <a href="#t:Limit" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Limit:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-SVar.html">Streamly.Internal.Data.SVar</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Streamly-Internal-Data-SVar.html#t:Limit" title="Streamly.Internal.Data.SVar">Limit</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:Limit" title="Streamly.Internal.Data.SVar">Limit</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Streamly-Internal-Data-SVar.html#t:Limit" title="Streamly.Internal.Data.SVar">Limit</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:Limit" title="Streamly.Internal.Data.SVar">Limit</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Limit:Ord:2"></span> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> <a href="Streamly-Internal-Data-SVar.html#t:Limit" title="Streamly.Internal.Data.SVar">Limit</a></span> <a href="src/Streamly.Internal.Data.SVar.html#line-365" class="link">Source</a> <a href="#t:Limit" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Limit:Ord:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-SVar.html">Streamly.Internal.Data.SVar</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Streamly-Internal-Data-SVar.html#t:Limit" title="Streamly.Internal.Data.SVar">Limit</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:Limit" title="Streamly.Internal.Data.SVar">Limit</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Streamly-Internal-Data-SVar.html#t:Limit" title="Streamly.Internal.Data.SVar">Limit</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:Limit" title="Streamly.Internal.Data.SVar">Limit</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Streamly-Internal-Data-SVar.html#t:Limit" title="Streamly.Internal.Data.SVar">Limit</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:Limit" title="Streamly.Internal.Data.SVar">Limit</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Streamly-Internal-Data-SVar.html#t:Limit" title="Streamly.Internal.Data.SVar">Limit</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:Limit" title="Streamly.Internal.Data.SVar">Limit</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Streamly-Internal-Data-SVar.html#t:Limit" title="Streamly.Internal.Data.SVar">Limit</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:Limit" title="Streamly.Internal.Data.SVar">Limit</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="Streamly-Internal-Data-SVar.html#t:Limit" title="Streamly.Internal.Data.SVar">Limit</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:Limit" title="Streamly.Internal.Data.SVar">Limit</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:Limit" title="Streamly.Internal.Data.SVar">Limit</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Streamly-Internal-Data-SVar.html#t:Limit" title="Streamly.Internal.Data.SVar">Limit</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:Limit" title="Streamly.Internal.Data.SVar">Limit</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:Limit" title="Streamly.Internal.Data.SVar">Limit</a> <a href="#v:min" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Limit:Show:3"></span> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Streamly-Internal-Data-SVar.html#t:Limit" title="Streamly.Internal.Data.SVar">Limit</a></span> <a href="src/Streamly.Internal.Data.SVar.html#line-357" class="link">Source</a> <a href="#t:Limit" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Limit:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-SVar.html">Streamly.Internal.Data.SVar</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:Limit" title="Streamly.Internal.Data.SVar">Limit</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Streamly-Internal-Data-SVar.html#t:Limit" title="Streamly.Internal.Data.SVar">Limit</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Streamly-Internal-Data-SVar.html#t:Limit" title="Streamly.Internal.Data.SVar">Limit</a>] -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:State" class="def">State</a> t m a <a href="src/Streamly.Internal.Data.SVar.html#State" class="link">Source</a> <a href="#t:State" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:defState" class="def">defState</a> :: <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a <a href="src/Streamly.Internal.Data.SVar.html#defState" class="link">Source</a> <a href="#v:defState" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:adaptState" class="def">adaptState</a> :: <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a -&gt; <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t n b <a href="src/Streamly.Internal.Data.SVar.html#adaptState" class="link">Source</a> <a href="#v:adaptState" class="selflink">#</a></p><div class="doc"><p>Adapt the stream state from one type to another.</p></div></div><div class="top"><p class="src"><a id="v:getMaxThreads" class="def">getMaxThreads</a> :: <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a -&gt; <a href="Streamly-Internal-Data-SVar.html#t:Limit" title="Streamly.Internal.Data.SVar">Limit</a> <a href="src/Streamly.Internal.Data.SVar.html#getMaxThreads" class="link">Source</a> <a href="#v:getMaxThreads" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:setMaxThreads" class="def">setMaxThreads</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a -&gt; <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a <a href="src/Streamly.Internal.Data.SVar.html#setMaxThreads" class="link">Source</a> <a href="#v:setMaxThreads" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getMaxBuffer" class="def">getMaxBuffer</a> :: <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a -&gt; <a href="Streamly-Internal-Data-SVar.html#t:Limit" title="Streamly.Internal.Data.SVar">Limit</a> <a href="src/Streamly.Internal.Data.SVar.html#getMaxBuffer" class="link">Source</a> <a href="#v:getMaxBuffer" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:setMaxBuffer" class="def">setMaxBuffer</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a -&gt; <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a <a href="src/Streamly.Internal.Data.SVar.html#setMaxBuffer" class="link">Source</a> <a href="#v:setMaxBuffer" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getStreamRate" class="def">getStreamRate</a> :: <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="Streamly-Internal-Data-SVar.html#t:Rate" title="Streamly.Internal.Data.SVar">Rate</a> <a href="src/Streamly.Internal.Data.SVar.html#getStreamRate" class="link">Source</a> <a href="#v:getStreamRate" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:setStreamRate" class="def">setStreamRate</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="Streamly-Internal-Data-SVar.html#t:Rate" title="Streamly.Internal.Data.SVar">Rate</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a -&gt; <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a <a href="src/Streamly.Internal.Data.SVar.html#setStreamRate" class="link">Source</a> <a href="#v:setStreamRate" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:setStreamLatency" class="def">setStreamLatency</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a -&gt; <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a <a href="src/Streamly.Internal.Data.SVar.html#setStreamLatency" class="link">Source</a> <a href="#v:setStreamLatency" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getYieldLimit" class="def">getYieldLimit</a> :: <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> Count <a href="src/Streamly.Internal.Data.SVar.html#getYieldLimit" class="link">Source</a> <a href="#v:getYieldLimit" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:setYieldLimit" class="def">setYieldLimit</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int64" title="Data.Int">Int64</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a -&gt; <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a <a href="src/Streamly.Internal.Data.SVar.html#setYieldLimit" class="link">Source</a> <a href="#v:setYieldLimit" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getInspectMode" class="def">getInspectMode</a> :: <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Streamly.Internal.Data.SVar.html#getInspectMode" class="link">Source</a> <a href="#v:getInspectMode" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:setInspectMode" class="def">setInspectMode</a> :: <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a -&gt; <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a <a href="src/Streamly.Internal.Data.SVar.html#setInspectMode" class="link">Source</a> <a href="#v:setInspectMode" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:recordMaxWorkers" class="def">recordMaxWorkers</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; m () <a href="src/Streamly.Internal.Data.SVar.html#recordMaxWorkers" class="link">Source</a> <a href="#v:recordMaxWorkers" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:cleanupSVar" class="def">cleanupSVar</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Streamly.Internal.Data.SVar.html#cleanupSVar" class="link">Source</a> <a href="#v:cleanupSVar" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:cleanupSVarFromWorker" class="def">cleanupSVarFromWorker</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Streamly.Internal.Data.SVar.html#cleanupSVarFromWorker" class="link">Source</a> <a href="#v:cleanupSVarFromWorker" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:newAheadVar" class="def">newAheadVar</a> :: <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m =&gt; <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a -&gt; t m a -&gt; (<a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> ([t m a], <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> (Heap (Entry <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="Streamly-Internal-Data-SVar.html#t:AheadHeapEntry" title="Streamly.Internal.Data.SVar">AheadHeapEntry</a> t m a)), <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a -&gt; <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="Streamly-Internal-Data-SVar.html#t:WorkerInfo" title="Streamly.Internal.Data.SVar">WorkerInfo</a> -&gt; m ()) -&gt; m (<a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a) <a href="src/Streamly.Internal.Data.SVar.html#newAheadVar" class="link">Source</a> <a href="#v:newAheadVar" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:newParallelVar" class="def">newParallelVar</a> :: <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m =&gt; <a href="Streamly-Internal-Data-SVar.html#t:SVarStopStyle" title="Streamly.Internal.Data.SVar">SVarStopStyle</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a -&gt; m (<a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a) <a href="src/Streamly.Internal.Data.SVar.html#newParallelVar" class="link">Source</a> <a href="#v:newParallelVar" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:captureMonadState" class="def">captureMonadState</a> :: MonadBaseControl <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> m =&gt; m (<a href="Streamly-Internal-Data-SVar.html#t:RunInIO" title="Streamly.Internal.Data.SVar">RunInIO</a> m) <a href="src/Streamly.Internal.Data.SVar.html#captureMonadState" class="link">Source</a> <a href="#v:captureMonadState" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:RunInIO" class="def">RunInIO</a> m <a href="src/Streamly.Internal.Data.SVar.html#RunInIO" class="link">Source</a> <a href="#t:RunInIO" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:RunInIO" class="def">RunInIO</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:runInIO" class="def">runInIO</a> :: <span class="keyword">forall</span> b. m b -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> (StM m b)</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:WorkerInfo" class="def">WorkerInfo</a> <a href="src/Streamly.Internal.Data.SVar.html#WorkerInfo" class="link">Source</a> <a href="#t:WorkerInfo" class="selflink">#</a></p><div class="doc"><p>An SVar or a Stream Var is a conduit to the output from multiple streams
 running concurrently and asynchronously. An SVar can be thought of as an
 asynchronous IO handle. We can write any number of streams to an SVar in a
 non-blocking manner and then read them back at any time at any pace.  The
 SVar would run the streams asynchronously and accumulate results. An SVar
 may not really execute the stream completely and accumulate all the results.
 However, it ensures that the reader can read the results at whatever paces
 it wants to read. The SVar monitors and adapts to the consumer's pace.</p><p>An SVar is a mini scheduler, it has an associated workLoop that holds the
 stream tasks to be picked and run by a pool of worker threads. It has an
 associated output queue where the output stream elements are placed by the
 worker threads. A outputDoorBell is used by the worker threads to intimate the
 consumer thread about availability of new results in the output queue. More
 workers are added to the SVar by <code>fromStreamVar</code> on demand if the output
 produced is not keeping pace with the consumer. On bounded SVars, workers
 block on the output queue to provide throttling of the producer  when the
 consumer is not pulling fast enough.  The number of workers may even get
 reduced depending on the consuming pace.</p><p>New work is enqueued either at the time of creation of the SVar or as a
 result of executing the parallel combinators i.e. <code>&lt;|</code> and <code>&lt;|&gt;</code> when the
 already enqueued computations get evaluated. See <code>joinStreamVarAsync</code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:WorkerInfo" class="def">WorkerInfo</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:workerYieldMax" class="def">workerYieldMax</a> :: Count</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:workerYieldCount" class="def">workerYieldCount</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> Count</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:workerLatencyStart" class="def">workerLatencyStart</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> (Count, <a href="Streamly-Internal-Data-Time-Units.html#t:AbsTime" title="Streamly.Internal.Data.Time.Units">AbsTime</a>)</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:YieldRateInfo" class="def">YieldRateInfo</a> <a href="src/Streamly.Internal.Data.SVar.html#YieldRateInfo" class="link">Source</a> <a href="#t:YieldRateInfo" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:YieldRateInfo" class="def">YieldRateInfo</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:svarLatencyTarget" class="def">svarLatencyTarget</a> :: <a href="Streamly-Internal-Data-Time-Units.html#t:NanoSecond64" title="Streamly.Internal.Data.Time.Units">NanoSecond64</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:svarLatencyRange" class="def">svarLatencyRange</a> :: LatencyRange</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:svarRateBuffer" class="def">svarRateBuffer</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:svarGainedLostYields" class="def">svarGainedLostYields</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> Count</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:svarAllTimeLatency" class="def">svarAllTimeLatency</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> (Count, <a href="Streamly-Internal-Data-Time-Units.html#t:AbsTime" title="Streamly.Internal.Data.Time.Units">AbsTime</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:workerBootstrapLatency" class="def">workerBootstrapLatency</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="Streamly-Internal-Data-Time-Units.html#t:NanoSecond64" title="Streamly.Internal.Data.Time.Units">NanoSecond64</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:workerPollingInterval" class="def">workerPollingInterval</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> Count</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:workerPendingLatency" class="def">workerPendingLatency</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> (Count, Count, <a href="Streamly-Internal-Data-Time-Units.html#t:NanoSecond64" title="Streamly.Internal.Data.Time.Units">NanoSecond64</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:workerCollectedLatency" class="def">workerCollectedLatency</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> (Count, Count, <a href="Streamly-Internal-Data-Time-Units.html#t:NanoSecond64" title="Streamly.Internal.Data.Time.Units">NanoSecond64</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:workerMeasuredLatency" class="def">workerMeasuredLatency</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> <a href="Streamly-Internal-Data-Time-Units.html#t:NanoSecond64" title="Streamly.Internal.Data.Time.Units">NanoSecond64</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ThreadAbort" class="def">ThreadAbort</a> <a href="src/Streamly.Internal.Data.SVar.html#ThreadAbort" class="link">Source</a> <a href="#t:ThreadAbort" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ThreadAbort" class="def">ThreadAbort</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><details id="i:ThreadAbort" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ThreadAbort:Show:1"></span> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Streamly-Internal-Data-SVar.html#t:ThreadAbort" title="Streamly.Internal.Data.SVar">ThreadAbort</a></span> <a href="src/Streamly.Internal.Data.SVar.html#line-181" class="link">Source</a> <a href="#t:ThreadAbort" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ThreadAbort:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-SVar.html">Streamly.Internal.Data.SVar</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:ThreadAbort" title="Streamly.Internal.Data.SVar">ThreadAbort</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Streamly-Internal-Data-SVar.html#t:ThreadAbort" title="Streamly.Internal.Data.SVar">ThreadAbort</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Streamly-Internal-Data-SVar.html#t:ThreadAbort" title="Streamly.Internal.Data.SVar">ThreadAbort</a>] -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ThreadAbort:Exception:2"></span> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> <a href="Streamly-Internal-Data-SVar.html#t:ThreadAbort" title="Streamly.Internal.Data.SVar">ThreadAbort</a></span> <a href="src/Streamly.Internal.Data.SVar.html#line-183" class="link">Source</a> <a href="#t:ThreadAbort" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ThreadAbort:Exception:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-SVar.html">Streamly.Internal.Data.SVar</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toException">toException</a> :: <a href="Streamly-Internal-Data-SVar.html#t:ThreadAbort" title="Streamly.Internal.Data.SVar">ThreadAbort</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> <a href="#v:toException" class="selflink">#</a></p><p class="src"><a href="#v:fromException">fromException</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="Streamly-Internal-Data-SVar.html#t:ThreadAbort" title="Streamly.Internal.Data.SVar">ThreadAbort</a> <a href="#v:fromException" class="selflink">#</a></p><p class="src"><a href="#v:displayException">displayException</a> :: <a href="Streamly-Internal-Data-SVar.html#t:ThreadAbort" title="Streamly.Internal.Data.SVar">ThreadAbort</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:displayException" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ChildEvent" class="def">ChildEvent</a> a <a href="src/Streamly.Internal.Data.SVar.html#ChildEvent" class="link">Source</a> <a href="#t:ChildEvent" class="selflink">#</a></p><div class="doc"><p>Events that a child thread may send to a parent thread.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ChildYield" class="def">ChildYield</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ChildStop" class="def">ChildStop</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Concurrent.html#t:ThreadId" title="Control.Concurrent">ThreadId</a> (<a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:AheadHeapEntry" class="def">AheadHeapEntry</a> (t :: (<a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) m a <a href="src/Streamly.Internal.Data.SVar.html#AheadHeapEntry" class="link">Source</a> <a href="#t:AheadHeapEntry" class="selflink">#</a></p><div class="doc"><p>Sorting out-of-turn outputs in a heap for Ahead style streams</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:AheadEntryNull" class="def">AheadEntryNull</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:AheadEntryPure" class="def">AheadEntryPure</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:AheadEntryStream" class="def">AheadEntryStream</a> (t m a)</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:send" class="def">send</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="Streamly-Internal-Data-SVar.html#t:ChildEvent" title="Streamly.Internal.Data.SVar">ChildEvent</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Streamly.Internal.Data.SVar.html#send" class="link">Source</a> <a href="#v:send" class="selflink">#</a></p><div class="doc"><p>This function is used by the producer threads to queue output for the
 consumer thread to consume. Returns whether the queue has more space.</p></div></div><div class="top"><p class="src"><a id="v:sendToProducer" class="def">sendToProducer</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="Streamly-Internal-Data-SVar.html#t:ChildEvent" title="Streamly.Internal.Data.SVar">ChildEvent</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Streamly.Internal.Data.SVar.html#sendToProducer" class="link">Source</a> <a href="#v:sendToProducer" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:sendYield" class="def">sendYield</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="Streamly-Internal-Data-SVar.html#t:WorkerInfo" title="Streamly.Internal.Data.SVar">WorkerInfo</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:ChildEvent" title="Streamly.Internal.Data.SVar">ChildEvent</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Streamly.Internal.Data.SVar.html#sendYield" class="link">Source</a> <a href="#v:sendYield" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:sendStop" class="def">sendStop</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="Streamly-Internal-Data-SVar.html#t:WorkerInfo" title="Streamly.Internal.Data.SVar">WorkerInfo</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Streamly.Internal.Data.SVar.html#sendStop" class="link">Source</a> <a href="#v:sendStop" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:sendStopToProducer" class="def">sendStopToProducer</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; m () <a href="src/Streamly.Internal.Data.SVar.html#sendStopToProducer" class="link">Source</a> <a href="#v:sendStopToProducer" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:enqueueLIFO" class="def">enqueueLIFO</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> [t m a] -&gt; t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Streamly.Internal.Data.SVar.html#enqueueLIFO" class="link">Source</a> <a href="#v:enqueueLIFO" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:enqueueFIFO" class="def">enqueueFIFO</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; LinkedQueue (t m a) -&gt; t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Streamly.Internal.Data.SVar.html#enqueueFIFO" class="link">Source</a> <a href="#v:enqueueFIFO" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:enqueueAhead" class="def">enqueueAhead</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> ([t m a], <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Streamly.Internal.Data.SVar.html#enqueueAhead" class="link">Source</a> <a href="#v:enqueueAhead" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:reEnqueueAhead" class="def">reEnqueueAhead</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> ([t m a], <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Streamly.Internal.Data.SVar.html#reEnqueueAhead" class="link">Source</a> <a href="#v:reEnqueueAhead" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:pushWorkerPar" class="def">pushWorkerPar</a> :: <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m =&gt; <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; (<a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="Streamly-Internal-Data-SVar.html#t:WorkerInfo" title="Streamly.Internal.Data.SVar">WorkerInfo</a> -&gt; m ()) -&gt; m () <a href="src/Streamly.Internal.Data.SVar.html#pushWorkerPar" class="link">Source</a> <a href="#v:pushWorkerPar" class="selflink">#</a></p><div class="doc"><p>In contrast to pushWorker which always happens only from the consumer
 thread, a pushWorkerPar can happen concurrently from multiple threads on the
 producer side. So we need to use a thread safe modification of
 workerThreads. Alternatively, we can use a CreateThread event to avoid
 using a CAS based modification.</p></div></div><div class="top"><p class="src"><a id="v:handleChildException" class="def">handleChildException</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Streamly.Internal.Data.SVar.html#handleChildException" class="link">Source</a> <a href="#v:handleChildException" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:handleFoldException" class="def">handleFoldException</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Streamly.Internal.Data.SVar.html#handleFoldException" class="link">Source</a> <a href="#v:handleFoldException" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:queueEmptyAhead" class="def">queueEmptyAhead</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> ([t m a], <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; m <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Streamly.Internal.Data.SVar.html#queueEmptyAhead" class="link">Source</a> <a href="#v:queueEmptyAhead" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dequeueAhead" class="def">dequeueAhead</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> ([t m a], <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; m (<a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (t m a, <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>)) <a href="src/Streamly.Internal.Data.SVar.html#dequeueAhead" class="link">Source</a> <a href="#v:dequeueAhead" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:HeapDequeueResult" class="def">HeapDequeueResult</a> t m a <a href="src/Streamly.Internal.Data.SVar.html#HeapDequeueResult" class="link">Source</a> <a href="#t:HeapDequeueResult" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Clearing" class="def">Clearing</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Waiting" class="def">Waiting</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Ready" class="def">Ready</a> (Entry <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="Streamly-Internal-Data-SVar.html#t:AheadHeapEntry" title="Streamly.Internal.Data.SVar">AheadHeapEntry</a> t m a))</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:dequeueFromHeap" class="def">dequeueFromHeap</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> (Heap (Entry <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="Streamly-Internal-Data-SVar.html#t:AheadHeapEntry" title="Streamly.Internal.Data.SVar">AheadHeapEntry</a> t m a)), <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Streamly-Internal-Data-SVar.html#t:HeapDequeueResult" title="Streamly.Internal.Data.SVar">HeapDequeueResult</a> t m a) <a href="src/Streamly.Internal.Data.SVar.html#dequeueFromHeap" class="link">Source</a> <a href="#v:dequeueFromHeap" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dequeueFromHeapSeq" class="def">dequeueFromHeapSeq</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> (Heap (Entry <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="Streamly-Internal-Data-SVar.html#t:AheadHeapEntry" title="Streamly.Internal.Data.SVar">AheadHeapEntry</a> t m a)), <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Streamly-Internal-Data-SVar.html#t:HeapDequeueResult" title="Streamly.Internal.Data.SVar">HeapDequeueResult</a> t m a) <a href="src/Streamly.Internal.Data.SVar.html#dequeueFromHeapSeq" class="link">Source</a> <a href="#v:dequeueFromHeapSeq" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:requeueOnHeapTop" class="def">requeueOnHeapTop</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> (Heap (Entry <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="Streamly-Internal-Data-SVar.html#t:AheadHeapEntry" title="Streamly.Internal.Data.SVar">AheadHeapEntry</a> t m a)), <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; Entry <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="Streamly-Internal-Data-SVar.html#t:AheadHeapEntry" title="Streamly.Internal.Data.SVar">AheadHeapEntry</a> t m a) -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Streamly.Internal.Data.SVar.html#requeueOnHeapTop" class="link">Source</a> <a href="#v:requeueOnHeapTop" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:updateHeapSeq" class="def">updateHeapSeq</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> (Heap (Entry <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> (<a href="Streamly-Internal-Data-SVar.html#t:AheadHeapEntry" title="Streamly.Internal.Data.SVar">AheadHeapEntry</a> t m a)), <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Streamly.Internal.Data.SVar.html#updateHeapSeq" class="link">Source</a> <a href="#v:updateHeapSeq" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:withIORef" class="def">withIORef</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> a -&gt; (a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> b) -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> b <a href="src/Streamly.Internal.Data.SVar.html#withIORef" class="link">Source</a> <a href="#v:withIORef" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:heapIsSane" class="def">heapIsSane</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Streamly.Internal.Data.SVar.html#heapIsSane" class="link">Source</a> <a href="#v:heapIsSane" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Rate" class="def">Rate</a> <a href="src/Streamly.Internal.Data.SVar.html#Rate" class="link">Source</a> <a href="#t:Rate" class="selflink">#</a></p><div class="doc"><p>Specifies the stream yield rate in yields per second (<code>Hertz</code>).
 We keep accumulating yield credits at <code><a href="Streamly-Internal-Data-SVar.html#v:rateGoal" title="Streamly.Internal.Data.SVar">rateGoal</a></code>. At any point of time we
 allow only as many yields as we have accumulated as per <code><a href="Streamly-Internal-Data-SVar.html#v:rateGoal" title="Streamly.Internal.Data.SVar">rateGoal</a></code> since the
 start of time. If the consumer or the producer is slower or faster, the
 actual rate may fall behind or exceed <code><a href="Streamly-Internal-Data-SVar.html#v:rateGoal" title="Streamly.Internal.Data.SVar">rateGoal</a></code>.  We try to recover the gap
 between the two by increasing or decreasing the pull rate from the producer.
 However, if the gap becomes more than <code><a href="Streamly-Internal-Data-SVar.html#v:rateBuffer" title="Streamly.Internal.Data.SVar">rateBuffer</a></code> we try to recover only as
 much as <code><a href="Streamly-Internal-Data-SVar.html#v:rateBuffer" title="Streamly.Internal.Data.SVar">rateBuffer</a></code>.</p><p><code><a href="Streamly-Internal-Data-SVar.html#v:rateLow" title="Streamly.Internal.Data.SVar">rateLow</a></code> puts a bound on how low the instantaneous rate can go when
 recovering the rate gap.  In other words, it determines the maximum yield
 latency.  Similarly, <code><a href="Streamly-Internal-Data-SVar.html#v:rateHigh" title="Streamly.Internal.Data.SVar">rateHigh</a></code> puts a bound on how high the instantaneous
 rate can go when recovering the rate gap.  In other words, it determines the
 minimum yield latency. We reduce the latency by increasing concurrency,
 therefore we can say that it puts an upper bound on concurrency.</p><p>If the <code><a href="Streamly-Internal-Data-SVar.html#v:rateGoal" title="Streamly.Internal.Data.SVar">rateGoal</a></code> is 0 or negative the stream never yields a value.
 If the <code><a href="Streamly-Internal-Data-SVar.html#v:rateBuffer" title="Streamly.Internal.Data.SVar">rateBuffer</a></code> is 0 or negative we do not attempt to recover.</p><p><em>Since: 0.5.0</em></p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Rate" class="def">Rate</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:rateLow" class="def">rateLow</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Prelude.html#t:Double" title="Prelude">Double</a></dfn><div class="doc"><p>The lower rate limit</p></div></li><li><dfn class="src"><a id="v:rateGoal" class="def">rateGoal</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Prelude.html#t:Double" title="Prelude">Double</a></dfn><div class="doc"><p>The target rate we want to achieve</p></div></li><li><dfn class="src"><a id="v:rateHigh" class="def">rateHigh</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Prelude.html#t:Double" title="Prelude">Double</a></dfn><div class="doc"><p>The upper rate limit</p></div></li><li><dfn class="src"><a id="v:rateBuffer" class="def">rateBuffer</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>Maximum slack from the goal</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:getYieldRateInfo" class="def">getYieldRateInfo</a> :: <a href="Streamly-Internal-Data-SVar.html#t:State" title="Streamly.Internal.Data.SVar">State</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="Streamly-Internal-Data-SVar.html#t:YieldRateInfo" title="Streamly.Internal.Data.SVar">YieldRateInfo</a>) <a href="src/Streamly.Internal.Data.SVar.html#getYieldRateInfo" class="link">Source</a> <a href="#v:getYieldRateInfo" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:newSVarStats" class="def">newSVarStats</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Streamly-Internal-Data-SVar.html#t:SVarStats" title="Streamly.Internal.Data.SVar">SVarStats</a> <a href="src/Streamly.Internal.Data.SVar.html#newSVarStats" class="link">Source</a> <a href="#v:newSVarStats" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:collectLatency" class="def">collectLatency</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="Streamly-Internal-Data-SVar.html#t:YieldRateInfo" title="Streamly.Internal.Data.SVar">YieldRateInfo</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> (Count, <a href="Streamly-Internal-Data-Time-Units.html#t:AbsTime" title="Streamly.Internal.Data.Time.Units">AbsTime</a>, <a href="Streamly-Internal-Data-Time-Units.html#t:NanoSecond64" title="Streamly.Internal.Data.Time.Units">NanoSecond64</a>) <a href="src/Streamly.Internal.Data.SVar.html#collectLatency" class="link">Source</a> <a href="#v:collectLatency" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:workerUpdateLatency" class="def">workerUpdateLatency</a> :: <a href="Streamly-Internal-Data-SVar.html#t:YieldRateInfo" title="Streamly.Internal.Data.SVar">YieldRateInfo</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:WorkerInfo" title="Streamly.Internal.Data.SVar">WorkerInfo</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Streamly.Internal.Data.SVar.html#workerUpdateLatency" class="link">Source</a> <a href="#v:workerUpdateLatency" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:isBeyondMaxRate" class="def">isBeyondMaxRate</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="Streamly-Internal-Data-SVar.html#t:YieldRateInfo" title="Streamly.Internal.Data.SVar">YieldRateInfo</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Streamly.Internal.Data.SVar.html#isBeyondMaxRate" class="link">Source</a> <a href="#v:isBeyondMaxRate" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:workerRateControl" class="def">workerRateControl</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="Streamly-Internal-Data-SVar.html#t:YieldRateInfo" title="Streamly.Internal.Data.SVar">YieldRateInfo</a> -&gt; <a href="Streamly-Internal-Data-SVar.html#t:WorkerInfo" title="Streamly.Internal.Data.SVar">WorkerInfo</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Streamly.Internal.Data.SVar.html#workerRateControl" class="link">Source</a> <a href="#v:workerRateControl" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:updateYieldCount" class="def">updateYieldCount</a> :: <a href="Streamly-Internal-Data-SVar.html#t:WorkerInfo" title="Streamly.Internal.Data.SVar">WorkerInfo</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> Count <a href="src/Streamly.Internal.Data.SVar.html#updateYieldCount" class="link">Source</a> <a href="#v:updateYieldCount" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decrementYieldLimit" class="def">decrementYieldLimit</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Streamly.Internal.Data.SVar.html#decrementYieldLimit" class="link">Source</a> <a href="#v:decrementYieldLimit" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:incrementYieldLimit" class="def">incrementYieldLimit</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Streamly.Internal.Data.SVar.html#incrementYieldLimit" class="link">Source</a> <a href="#v:incrementYieldLimit" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decrementBufferLimit" class="def">decrementBufferLimit</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Streamly.Internal.Data.SVar.html#decrementBufferLimit" class="link">Source</a> <a href="#v:decrementBufferLimit" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:incrementBufferLimit" class="def">incrementBufferLimit</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Streamly.Internal.Data.SVar.html#incrementBufferLimit" class="link">Source</a> <a href="#v:incrementBufferLimit" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:postProcessBounded" class="def">postProcessBounded</a> :: <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m =&gt; <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; m <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Streamly.Internal.Data.SVar.html#postProcessBounded" class="link">Source</a> <a href="#v:postProcessBounded" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:postProcessPaced" class="def">postProcessPaced</a> :: <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m =&gt; <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; m <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Streamly.Internal.Data.SVar.html#postProcessPaced" class="link">Source</a> <a href="#v:postProcessPaced" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:readOutputQBounded" class="def">readOutputQBounded</a> :: <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m =&gt; <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; m [<a href="Streamly-Internal-Data-SVar.html#t:ChildEvent" title="Streamly.Internal.Data.SVar">ChildEvent</a> a] <a href="src/Streamly.Internal.Data.SVar.html#readOutputQBounded" class="link">Source</a> <a href="#v:readOutputQBounded" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:readOutputQPaced" class="def">readOutputQPaced</a> :: <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m =&gt; <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; m [<a href="Streamly-Internal-Data-SVar.html#t:ChildEvent" title="Streamly.Internal.Data.SVar">ChildEvent</a> a] <a href="src/Streamly.Internal.Data.SVar.html#readOutputQPaced" class="link">Source</a> <a href="#v:readOutputQPaced" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:readOutputQBasic" class="def">readOutputQBasic</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> ([<a href="Streamly-Internal-Data-SVar.html#t:ChildEvent" title="Streamly.Internal.Data.SVar">ChildEvent</a> a], <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> ([<a href="Streamly-Internal-Data-SVar.html#t:ChildEvent" title="Streamly.Internal.Data.SVar">ChildEvent</a> a], <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>) <a href="src/Streamly.Internal.Data.SVar.html#readOutputQBasic" class="link">Source</a> <a href="#v:readOutputQBasic" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dispatchWorkerPaced" class="def">dispatchWorkerPaced</a> :: <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m =&gt; <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; m <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Streamly.Internal.Data.SVar.html#dispatchWorkerPaced" class="link">Source</a> <a href="#v:dispatchWorkerPaced" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:sendFirstWorker" class="def">sendFirstWorker</a> :: <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m =&gt; <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; t m a -&gt; m (<a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a) <a href="src/Streamly.Internal.Data.SVar.html#sendFirstWorker" class="link">Source</a> <a href="#v:sendFirstWorker" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:delThread" class="def">delThread</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Concurrent.html#t:ThreadId" title="Control.Concurrent">ThreadId</a> -&gt; m () <a href="src/Streamly.Internal.Data.SVar.html#delThread" class="link">Source</a> <a href="#v:delThread" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:modifyThread" class="def">modifyThread</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Concurrent.html#t:ThreadId" title="Control.Concurrent">ThreadId</a> -&gt; m () <a href="src/Streamly.Internal.Data.SVar.html#modifyThread" class="link">Source</a> <a href="#v:modifyThread" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:doFork" class="def">doFork</a> :: MonadBaseControl <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> m =&gt; m () -&gt; <a href="Streamly-Internal-Data-SVar.html#t:RunInIO" title="Streamly.Internal.Data.SVar">RunInIO</a> m -&gt; (<a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> ()) -&gt; m <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Concurrent.html#t:ThreadId" title="Control.Concurrent">ThreadId</a> <a href="src/Streamly.Internal.Data.SVar.html#doFork" class="link">Source</a> <a href="#v:doFork" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:fork" class="def">fork</a> :: MonadBaseControl <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> m =&gt; m () -&gt; m <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Concurrent.html#t:ThreadId" title="Control.Concurrent">ThreadId</a> <a href="src/Streamly.Internal.Data.SVar.html#fork" class="link">Source</a> <a href="#v:fork" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:forkManaged" class="def">forkManaged</a> :: (<a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadBaseControl <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> m) =&gt; m () -&gt; m <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Concurrent.html#t:ThreadId" title="Control.Concurrent">ThreadId</a> <a href="src/Streamly.Internal.Data.SVar.html#forkManaged" class="link">Source</a> <a href="#v:forkManaged" class="selflink">#</a></p><div class="doc"><p>Fork a thread that is automatically killed as soon as the reference to the
 returned threadId is garbage collected.</p></div></div><div class="top"><p class="src"><a id="v:toStreamVar" class="def">toStreamVar</a> :: <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m =&gt; <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; t m a -&gt; m () <a href="src/Streamly.Internal.Data.SVar.html#toStreamVar" class="link">Source</a> <a href="#v:toStreamVar" class="selflink">#</a></p><div class="doc"><p>Write a stream to an <code><a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a></code> in a non-blocking manner. The stream can then
 be read back from the SVar using <code>fromSVar</code>.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SVarStats" class="def">SVarStats</a> <a href="src/Streamly.Internal.Data.SVar.html#SVarStats" class="link">Source</a> <a href="#t:SVarStats" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SVarStats" class="def">SVarStats</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:totalDispatches" class="def">totalDispatches</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:maxWorkers" class="def">maxWorkers</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:maxOutQSize" class="def">maxOutQSize</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:maxHeapSize" class="def">maxHeapSize</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:maxWorkQSize" class="def">maxWorkQSize</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:avgWorkerLatency" class="def">avgWorkerLatency</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> (Count, <a href="Streamly-Internal-Data-Time-Units.html#t:NanoSecond64" title="Streamly.Internal.Data.Time.Units">NanoSecond64</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:minWorkerLatency" class="def">minWorkerLatency</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> <a href="Streamly-Internal-Data-Time-Units.html#t:NanoSecond64" title="Streamly.Internal.Data.Time.Units">NanoSecond64</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:maxWorkerLatency" class="def">maxWorkerLatency</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> <a href="Streamly-Internal-Data-Time-Units.html#t:NanoSecond64" title="Streamly.Internal.Data.Time.Units">NanoSecond64</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:svarStopTime" class="def">svarStopTime</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> (<a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="Streamly-Internal-Data-Time-Units.html#t:AbsTime" title="Streamly.Internal.Data.Time.Units">AbsTime</a>)</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:dumpSVar" class="def">dumpSVar</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Streamly.Internal.Data.SVar.html#dumpSVar" class="link">Source</a> <a href="#v:dumpSVar" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:printSVar" class="def">printSVar</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Streamly.Internal.Data.SVar.html#printSVar" class="link">Source</a> <a href="#v:printSVar" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:withDiagMVar" class="def">withDiagMVar</a> :: <a href="Streamly-Internal-Data-SVar.html#t:SVar" title="Streamly.Internal.Data.SVar">SVar</a> t m a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> () -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Streamly.Internal.Data.SVar.html#withDiagMVar" class="link">Source</a> <a href="#v:withDiagMVar" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>
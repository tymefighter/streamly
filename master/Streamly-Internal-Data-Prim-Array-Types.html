<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Streamly.Internal.Data.Prim.Array.Types</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Streamly.Internal.Data.Prim.Array.Types.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">streamly-master: Beautiful Streaming, Concurrent and Reactive Composition</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) Roman Leshchinskiy 2009-2012</td></tr><tr><th>License</th><td>BSD-style</td></tr><tr><th>Maintainer</th><td>streamly@composewell.com</td></tr><tr><th>Portability</th><td>non-portable</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Streamly.Internal.Data.Prim.Array.Types</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Types</a></li><li><a href="#g:2">Allocation</a></li><li><a href="#g:3">Element Access</a></li><li><a href="#g:4">Freezing and Thawing</a></li><li><a href="#g:5">Information</a></li><li><a href="#g:6">Folding</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Arrays of unboxed primitive types. The function provided by this module
 match the behavior of those provided by <code>Data.Primitive.ByteArray</code>, and
 the underlying types and primops that back them are the same.
 However, the type constructors <code><a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a></code> and <code><a href="Streamly-Internal-Data-Prim-Array-Types.html#t:MutablePrimArray" title="Streamly.Internal.Data.Prim.Array.Types">MutablePrimArray</a></code> take one additional
 argument than their respective counterparts <code>ByteArray</code> and <code>MutableByteArray</code>.
 This argument is used to designate the type of element in the array.
 Consequently, all function this modules accepts length and incides in
 terms of elements, not bytes.</p><p><em>Since: 0.6.4.0</em></p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:PrimArray">PrimArray</a> a = <a href="#v:PrimArray">PrimArray</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Exts.html#t:ByteArray-35-" title="GHC.Exts">ByteArray#</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:MutablePrimArray">MutablePrimArray</a> s a = <a href="#v:MutablePrimArray">MutablePrimArray</a> (<a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Exts.html#t:MutableByteArray-35-" title="GHC.Exts">MutableByteArray#</a> s)</li><li class="src short"><a href="#v:newPrimArray">newPrimArray</a> :: <span class="keyword">forall</span> m a. (PrimMonad m, <a href="Streamly-Internal-Mutable-Prim-Var.html#t:Prim" title="Streamly.Internal.Mutable.Prim.Var">Prim</a> a) =&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; m (<a href="Streamly-Internal-Data-Prim-Array-Types.html#t:MutablePrimArray" title="Streamly.Internal.Data.Prim.Array.Types">MutablePrimArray</a> (PrimState m) a)</li><li class="src short"><a href="#v:resizeMutablePrimArray">resizeMutablePrimArray</a> :: <span class="keyword">forall</span> m a. (PrimMonad m, <a href="Streamly-Internal-Mutable-Prim-Var.html#t:Prim" title="Streamly.Internal.Mutable.Prim.Var">Prim</a> a) =&gt; <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:MutablePrimArray" title="Streamly.Internal.Data.Prim.Array.Types">MutablePrimArray</a> (PrimState m) a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; m (<a href="Streamly-Internal-Data-Prim-Array-Types.html#t:MutablePrimArray" title="Streamly.Internal.Data.Prim.Array.Types">MutablePrimArray</a> (PrimState m) a)</li><li class="src short"><a href="#v:shrinkMutablePrimArray">shrinkMutablePrimArray</a> :: <span class="keyword">forall</span> m a. (PrimMonad m, <a href="Streamly-Internal-Mutable-Prim-Var.html#t:Prim" title="Streamly.Internal.Mutable.Prim.Var">Prim</a> a) =&gt; <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:MutablePrimArray" title="Streamly.Internal.Data.Prim.Array.Types">MutablePrimArray</a> (PrimState m) a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; m ()</li><li class="src short"><a href="#v:writePrimArray">writePrimArray</a> :: (<a href="Streamly-Internal-Mutable-Prim-Var.html#t:Prim" title="Streamly.Internal.Mutable.Prim.Var">Prim</a> a, PrimMonad m) =&gt; <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:MutablePrimArray" title="Streamly.Internal.Data.Prim.Array.Types">MutablePrimArray</a> (PrimState m) a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a -&gt; m ()</li><li class="src short"><a href="#v:indexPrimArray">indexPrimArray</a> :: <span class="keyword">forall</span> a. <a href="Streamly-Internal-Mutable-Prim-Var.html#t:Prim" title="Streamly.Internal.Mutable.Prim.Var">Prim</a> a =&gt; <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a</li><li class="src short"><a href="#v:unsafeFreezePrimArray">unsafeFreezePrimArray</a> :: PrimMonad m =&gt; <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:MutablePrimArray" title="Streamly.Internal.Data.Prim.Array.Types">MutablePrimArray</a> (PrimState m) a -&gt; m (<a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a)</li><li class="src short"><a href="#v:sizeofPrimArray">sizeofPrimArray</a> :: <span class="keyword">forall</span> a. <a href="Streamly-Internal-Mutable-Prim-Var.html#t:Prim" title="Streamly.Internal.Mutable.Prim.Var">Prim</a> a =&gt; <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:foldrPrimArray">foldrPrimArray</a> :: <span class="keyword">forall</span> a b. <a href="Streamly-Internal-Mutable-Prim-Var.html#t:Prim" title="Streamly.Internal.Mutable.Prim.Var">Prim</a> a =&gt; (a -&gt; b -&gt; b) -&gt; b -&gt; <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a -&gt; b</li><li class="src short"><a href="#v:foldlPrimArray-39-">foldlPrimArray'</a> :: <span class="keyword">forall</span> a b. <a href="Streamly-Internal-Mutable-Prim-Var.html#t:Prim" title="Streamly.Internal.Mutable.Prim.Var">Prim</a> a =&gt; (b -&gt; a -&gt; b) -&gt; b -&gt; <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a -&gt; b</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Types</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PrimArray" class="def">PrimArray</a> a <a href="src/Streamly.Internal.Data.Prim.Array.Types.html#PrimArray" class="link">Source</a> <a href="#t:PrimArray" class="selflink">#</a></p><div class="doc"><p>Arrays of unboxed elements. This accepts types like <code><a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Prelude.html#t:Double" title="Prelude">Double</a></code>, <code><a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Char.html#t:Char" title="Data.Char">Char</a></code>,
 <code><a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></code>, and <code><a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Word.html#t:Word" title="Data.Word">Word</a></code>, as well as their fixed-length variants (<code>Word8</code>,
 <code>Word16</code>, etc.). Since the elements are unboxed, a <code><a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a></code> is strict
 in its elements. This differs from the behavior of <code>Array</code>, which is lazy
 in its elements.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PrimArray" class="def">PrimArray</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Exts.html#t:ByteArray-35-" title="GHC.Exts">ByteArray#</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><details id="i:PrimArray" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PrimArray:Eq:1"></span> (<a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a, <a href="Streamly-Internal-Mutable-Prim-Var.html#t:Prim" title="Streamly.Internal.Mutable.Prim.Var">Prim</a> a) =&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a)</span> <a href="src/Streamly.Internal.Data.Prim.Array.Types.html#line-75" class="link">Source</a> <a href="#t:PrimArray" class="selflink">#</a></td><td class="doc"><p><em>Since: 0.6.4.0</em></p></td></tr><tr><td colspan="2"><details id="i:id:PrimArray:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Prim-Array-Types.html">Streamly.Internal.Data.Prim.Array.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a -&gt; <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a -&gt; <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PrimArray:Ord:2"></span> (<a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a, <a href="Streamly-Internal-Mutable-Prim-Var.html#t:Prim" title="Streamly.Internal.Mutable.Prim.Var">Prim</a> a) =&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a)</span> <a href="src/Streamly.Internal.Data.Prim.Array.Types.html#line-94" class="link">Source</a> <a href="#t:PrimArray" class="selflink">#</a></td><td class="doc"><p>Lexicographic ordering. Subject to change between major versions.</p><p><em>Since: 0.6.4.0</em></p></td></tr><tr><td colspan="2"><details id="i:id:PrimArray:Ord:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Prim-Array-Types.html">Streamly.Internal.Data.Prim.Array.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a -&gt; <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a -&gt; <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a -&gt; <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a -&gt; <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a -&gt; <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a -&gt; <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a -&gt; <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a -&gt; <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a -&gt; <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a <a href="#v:min" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PrimArray:Show:3"></span> (<a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Text-Show.html#t:Show" title="Text.Show">Show</a> a, <a href="Streamly-Internal-Mutable-Prim-Var.html#t:Prim" title="Streamly.Internal.Mutable.Prim.Var">Prim</a> a) =&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a)</span> <a href="src/Streamly.Internal.Data.Prim.Array.Types.html#line-111" class="link">Source</a> <a href="#t:PrimArray" class="selflink">#</a></td><td class="doc"><p><em>Since: 0.6.4.0</em></p></td></tr><tr><td colspan="2"><details id="i:id:PrimArray:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Prim-Array-Types.html">Streamly.Internal.Data.Prim.Array.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a] -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PrimArray:NFData:4"></span> <a href="Streamly-Internal-Mutable-Prim-Var.html#t:Prim" title="Streamly.Internal.Mutable.Prim.Var">Prim</a> a =&gt; <a href="https://hackage.haskell.org/package/deepseq-1.4.4.0/docs/Control-DeepSeq.html#t:NFData" title="Control.DeepSeq">NFData</a> (<a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a)</span> <a href="src/Streamly.Internal.Data.Prim.Array.html#line-159" class="link">Source</a> <a href="#t:NFData" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PrimArray:NFData:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Prim-Array.html">Streamly.Internal.Data.Prim.Array</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:rnf">rnf</a> :: <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a -&gt; () <a href="#v:rnf" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:MutablePrimArray" class="def">MutablePrimArray</a> s a <a href="src/Streamly.Internal.Data.Prim.Array.Types.html#MutablePrimArray" class="link">Source</a> <a href="#t:MutablePrimArray" class="selflink">#</a></p><div class="doc"><p>Mutable primitive arrays associated with a primitive state token.
 These can be written to and read from in a monadic context that supports
 sequencing such as <code><a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a></code> or <code>ST</code>. Typically, a mutable primitive array will
 be built and then convert to an immutable primitive array using
 <code><a href="Streamly-Internal-Data-Prim-Array-Types.html#v:unsafeFreezePrimArray" title="Streamly.Internal.Data.Prim.Array.Types">unsafeFreezePrimArray</a></code>. However, it is also acceptable to simply discard
 a mutable primitive array since it lives in managed memory and will be
 garbage collected when no longer referenced.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:MutablePrimArray" class="def">MutablePrimArray</a> (<a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/GHC-Exts.html#t:MutableByteArray-35-" title="GHC.Exts">MutableByteArray#</a> s)</td><td class="doc empty">&nbsp;</td></tr></table></div></div><a href="#g:2" id="g:2"><h1>Allocation</h1></a><div class="top"><p class="src"><a id="v:newPrimArray" class="def">newPrimArray</a> :: <span class="keyword">forall</span> m a. (PrimMonad m, <a href="Streamly-Internal-Mutable-Prim-Var.html#t:Prim" title="Streamly.Internal.Mutable.Prim.Var">Prim</a> a) =&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; m (<a href="Streamly-Internal-Data-Prim-Array-Types.html#t:MutablePrimArray" title="Streamly.Internal.Data.Prim.Array.Types">MutablePrimArray</a> (PrimState m) a) <a href="src/Streamly.Internal.Data.Prim.Array.Types.html#newPrimArray" class="link">Source</a> <a href="#v:newPrimArray" class="selflink">#</a></p><div class="doc"><p>Create a new mutable primitive array of the given length. The
 underlying memory is left uninitialized.</p></div></div><div class="top"><p class="src"><a id="v:resizeMutablePrimArray" class="def">resizeMutablePrimArray</a> <a href="src/Streamly.Internal.Data.Prim.Array.Types.html#resizeMutablePrimArray" class="link">Source</a> <a href="#v:resizeMutablePrimArray" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (PrimMonad m, <a href="Streamly-Internal-Mutable-Prim-Var.html#t:Prim" title="Streamly.Internal.Mutable.Prim.Var">Prim</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:MutablePrimArray" title="Streamly.Internal.Data.Prim.Array.Types">MutablePrimArray</a> (PrimState m) a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>new size</p></td></tr><tr><td class="src">-&gt; m (<a href="Streamly-Internal-Data-Prim-Array-Types.html#t:MutablePrimArray" title="Streamly.Internal.Data.Prim.Array.Types">MutablePrimArray</a> (PrimState m) a)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Resize a mutable primitive array. The new size is given in elements.</p><p>This will either resize the array in-place or, if not possible, allocate the
 contents into a new, unpinned array and copy the original array's contents.</p><p>To avoid undefined behaviour, the original <code><a href="Streamly-Internal-Data-Prim-Array-Types.html#t:MutablePrimArray" title="Streamly.Internal.Data.Prim.Array.Types">MutablePrimArray</a></code> shall not be
 accessed anymore after a <code><a href="Streamly-Internal-Data-Prim-Array-Types.html#v:resizeMutablePrimArray" title="Streamly.Internal.Data.Prim.Array.Types">resizeMutablePrimArray</a></code> has been performed.
 Moreover, no reference to the old one should be kept in order to allow
 garbage collection of the original <code><a href="Streamly-Internal-Data-Prim-Array-Types.html#t:MutablePrimArray" title="Streamly.Internal.Data.Prim.Array.Types">MutablePrimArray</a></code> in case a new
 <code><a href="Streamly-Internal-Data-Prim-Array-Types.html#t:MutablePrimArray" title="Streamly.Internal.Data.Prim.Array.Types">MutablePrimArray</a></code> had to be allocated.</p></div></div><div class="top"><p class="src"><a id="v:shrinkMutablePrimArray" class="def">shrinkMutablePrimArray</a> <a href="src/Streamly.Internal.Data.Prim.Array.Types.html#shrinkMutablePrimArray" class="link">Source</a> <a href="#v:shrinkMutablePrimArray" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (PrimMonad m, <a href="Streamly-Internal-Mutable-Prim-Var.html#t:Prim" title="Streamly.Internal.Mutable.Prim.Var">Prim</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:MutablePrimArray" title="Streamly.Internal.Data.Prim.Array.Types">MutablePrimArray</a> (PrimState m) a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>new size</p></td></tr><tr><td class="src">-&gt; m ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Shrink a mutable primitive array. The new size is given in elements.
 It must be smaller than the old size. The array will be resized in place.
 This function is only available when compiling with GHC 7.10 or newer.</p></div></div><a href="#g:3" id="g:3"><h1>Element Access</h1></a><div class="top"><p class="src"><a id="v:writePrimArray" class="def">writePrimArray</a> <a href="src/Streamly.Internal.Data.Prim.Array.Types.html#writePrimArray" class="link">Source</a> <a href="#v:writePrimArray" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Streamly-Internal-Mutable-Prim-Var.html#t:Prim" title="Streamly.Internal.Mutable.Prim.Var">Prim</a> a, PrimMonad m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:MutablePrimArray" title="Streamly.Internal.Data.Prim.Array.Types">MutablePrimArray</a> (PrimState m) a</td><td class="doc"><p>array</p></td></tr><tr><td class="src">-&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>index</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>element</p></td></tr><tr><td class="src">-&gt; m ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Write an element to the given index.</p></div></div><div class="top"><p class="src"><a id="v:indexPrimArray" class="def">indexPrimArray</a> :: <span class="keyword">forall</span> a. <a href="Streamly-Internal-Mutable-Prim-Var.html#t:Prim" title="Streamly.Internal.Mutable.Prim.Var">Prim</a> a =&gt; <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; a <a href="src/Streamly.Internal.Data.Prim.Array.Types.html#indexPrimArray" class="link">Source</a> <a href="#v:indexPrimArray" class="selflink">#</a></p><div class="doc"><p>Read a primitive value from the primitive array.</p></div></div><a href="#g:4" id="g:4"><h1>Freezing and Thawing</h1></a><div class="top"><p class="src"><a id="v:unsafeFreezePrimArray" class="def">unsafeFreezePrimArray</a> :: PrimMonad m =&gt; <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:MutablePrimArray" title="Streamly.Internal.Data.Prim.Array.Types">MutablePrimArray</a> (PrimState m) a -&gt; m (<a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a) <a href="src/Streamly.Internal.Data.Prim.Array.Types.html#unsafeFreezePrimArray" class="link">Source</a> <a href="#v:unsafeFreezePrimArray" class="selflink">#</a></p><div class="doc"><p>Convert a mutable byte array to an immutable one without copying. The
 array should not be modified after the conversion.</p></div></div><a href="#g:5" id="g:5"><h1>Information</h1></a><div class="top"><p class="src"><a id="v:sizeofPrimArray" class="def">sizeofPrimArray</a> :: <span class="keyword">forall</span> a. <a href="Streamly-Internal-Mutable-Prim-Var.html#t:Prim" title="Streamly.Internal.Mutable.Prim.Var">Prim</a> a =&gt; <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Streamly.Internal.Data.Prim.Array.Types.html#sizeofPrimArray" class="link">Source</a> <a href="#v:sizeofPrimArray" class="selflink">#</a></p><div class="doc"><p>Get the size, in elements, of the primitive array.</p></div></div><a href="#g:6" id="g:6"><h1>Folding</h1></a><div class="top"><p class="src"><a id="v:foldrPrimArray" class="def">foldrPrimArray</a> :: <span class="keyword">forall</span> a b. <a href="Streamly-Internal-Mutable-Prim-Var.html#t:Prim" title="Streamly.Internal.Mutable.Prim.Var">Prim</a> a =&gt; (a -&gt; b -&gt; b) -&gt; b -&gt; <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a -&gt; b <a href="src/Streamly.Internal.Data.Prim.Array.Types.html#foldrPrimArray" class="link">Source</a> <a href="#v:foldrPrimArray" class="selflink">#</a></p><div class="doc"><p>Lazy right-associated fold over the elements of a <code><a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:foldlPrimArray-39-" class="def">foldlPrimArray'</a> :: <span class="keyword">forall</span> a b. <a href="Streamly-Internal-Mutable-Prim-Var.html#t:Prim" title="Streamly.Internal.Mutable.Prim.Var">Prim</a> a =&gt; (b -&gt; a -&gt; b) -&gt; b -&gt; <a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a> a -&gt; b <a href="src/Streamly.Internal.Data.Prim.Array.Types.html#foldlPrimArray%27" class="link">Source</a> <a href="#v:foldlPrimArray-39-" class="selflink">#</a></p><div class="doc"><p>Strict left-associated fold over the elements of a <code><a href="Streamly-Internal-Data-Prim-Array-Types.html#t:PrimArray" title="Streamly.Internal.Data.Prim.Array.Types">PrimArray</a></code>.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>
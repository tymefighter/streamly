<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Streamly.Internal.Data.Stream.Async</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Streamly.Internal.Data.Stream.Async.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">streamly-master: Beautiful Streaming, Concurrent and Reactive Composition</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) 2017 Harendra Kumar</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>streamly@composewell.com</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>GHC</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Streamly.Internal.Data.Stream.Async</p></div><div id="description"><p class="caption">Description</p><div class="doc empty">&nbsp;</div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:AsyncT">AsyncT</a> m a</li><li class="src short"><span class="keyword">type</span> <a href="#t:Async">Async</a> = <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a></li><li class="src short"><a href="#v:asyncly">asyncly</a> :: <a href="Streamly-Internal-Data-Stream-StreamK-Type.html#t:IsStream" title="Streamly.Internal.Data.Stream.StreamK.Type">IsStream</a> t =&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a -&gt; t m a</li><li class="src short"><a href="#v:async">async</a> :: (<a href="Streamly-Internal-Data-Stream-StreamK-Type.html#t:IsStream" title="Streamly.Internal.Data.Stream.StreamK.Type">IsStream</a> t, <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m) =&gt; t m a -&gt; t m a -&gt; t m a</li><li class="src short"><a href="#v:-60--124-">(&lt;|)</a> :: (<a href="Streamly-Internal-Data-Stream-StreamK-Type.html#t:IsStream" title="Streamly.Internal.Data.Stream.StreamK.Type">IsStream</a> t, <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m) =&gt; t m a -&gt; t m a -&gt; t m a</li><li class="src short"><a href="#v:mkAsync">mkAsync</a> :: (<a href="Streamly-Internal-Data-Stream-StreamK-Type.html#t:IsStream" title="Streamly.Internal.Data.Stream.StreamK.Type">IsStream</a> t, <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m) =&gt; t m a -&gt; t m a</li><li class="src short"><a href="#v:mkAsyncK">mkAsyncK</a> :: (<a href="Streamly-Internal-Data-Stream-StreamK-Type.html#t:IsStream" title="Streamly.Internal.Data.Stream.StreamK.Type">IsStream</a> t, <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m) =&gt; t m a -&gt; t m a</li><li class="src short"><span class="keyword">data</span> <a href="#t:WAsyncT">WAsyncT</a> m a</li><li class="src short"><span class="keyword">type</span> <a href="#t:WAsync">WAsync</a> = <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a></li><li class="src short"><a href="#v:wAsyncly">wAsyncly</a> :: <a href="Streamly-Internal-Data-Stream-StreamK-Type.html#t:IsStream" title="Streamly.Internal.Data.Stream.StreamK.Type">IsStream</a> t =&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a -&gt; t m a</li><li class="src short"><a href="#v:wAsync">wAsync</a> :: (<a href="Streamly-Internal-Data-Stream-StreamK-Type.html#t:IsStream" title="Streamly.Internal.Data.Stream.StreamK.Type">IsStream</a> t, <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m) =&gt; t m a -&gt; t m a -&gt; t m a</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:AsyncT" class="def">AsyncT</a> m a <a href="src/Streamly.Internal.Data.Stream.Async.html#AsyncT" class="link">Source</a> <a href="#t:AsyncT" class="selflink">#</a></p><div class="doc"><p>The <code><a href="Streamly.html#t:Semigroup" title="Streamly">Semigroup</a></code> operation (<code>&lt;&gt;</code>) for <code><a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a></code> merges two streams
 concurrently with priority given to the first stream. In <code>s1 &lt;&gt; s2 &lt;&gt; s3
 ...</code> the streams s1, s2 and s3 are scheduled for execution in that order.
 Multiple scheduled streams may be executed concurrently and the elements
 generated by them are served to the consumer as and when they become
 available. This behavior is similar to the scheduling and execution behavior
 of actions in a single async stream.</p><p>Since only a finite number of streams are executed concurrently, this
 operation can be used to fold an infinite lazy container of streams.</p><pre>import <a href="Streamly.html">Streamly</a>
import qualified <a href="Streamly-Prelude.html">Streamly.Prelude</a> as S
import Control.Concurrent

main = (S.toList . <code><a href="Streamly-Internal-Data-Stream-Async.html#v:asyncly" title="Streamly.Internal.Data.Stream.Async">asyncly</a></code> $ (S.fromList [1,2]) &lt;&gt; (S.fromList [3,4])) &gt;&gt;= print
</pre><pre>[1,2,3,4]
</pre><p>Any exceptions generated by a constituent stream are propagated to the
 output stream. The output and exceptions from a single stream are guaranteed
 to arrive in the same order in the resulting stream as they were generated
 in the input stream. However, the relative ordering of elements from
 different streams in the resulting stream can vary depending on scheduling
 and generation delays.</p><p>Similarly, the monad instance of <code><a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a></code> <em>may</em> run each iteration
 concurrently based on demand.  More concurrent iterations are started only
 if the previous iterations are not able to produce enough output for the
 consumer.</p><pre>main = <code>drain</code> . <code><a href="Streamly-Internal-Data-Stream-Async.html#v:asyncly" title="Streamly.Internal.Data.Stream.Async">asyncly</a></code> $ do
    n &lt;- return 3 &lt;&gt; return 2 &lt;&gt; return 1
    S.yieldM $ do
         threadDelay (n * 1000000)
         myThreadId &gt;&gt;= \tid -&gt; putStrLn (show tid ++ &quot;: Delay &quot; ++ show n)
</pre><pre>ThreadId 40: Delay 1
ThreadId 39: Delay 2
ThreadId 38: Delay 3
</pre><p><em>Since: 0.1.0</em></p></div><div class="subs instances"><details id="i:AsyncT" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AsyncT:MonadTrans:1"></span> <a href="https://hackage.haskell.org/package/transformers-0.5.5.0/docs/Control-Monad-Trans-Class.html#t:MonadTrans" title="Control.Monad.Trans.Class">MonadTrans</a> <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a></span> <a href="src/Streamly.Internal.Data.Stream.Async.html#line-721" class="link">Source</a> <a href="#t:AsyncT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AsyncT:MonadTrans:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Stream-Async.html">Streamly.Internal.Data.Stream.Async</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lift">lift</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a <a href="#v:lift" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AsyncT:IsStream:2"></span> <a href="Streamly-Internal-Data-Stream-StreamK-Type.html#t:IsStream" title="Streamly.Internal.Data.Stream.StreamK.Type">IsStream</a> <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a></span> <a href="src/Streamly.Internal.Data.Stream.Async.html#line-735" class="link">Source</a> <a href="#t:AsyncT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AsyncT:IsStream:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Stream-Async.html">Streamly.Internal.Data.Stream.Async</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toStream">toStream</a> :: <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a -&gt; <a href="Streamly-Internal-Data-Stream-StreamK-Type.html#t:Stream" title="Streamly.Internal.Data.Stream.StreamK.Type">Stream</a> m a <a href="src/Streamly.Internal.Data.Stream.StreamK.Type.html#toStream" class="link">Source</a> <a href="#v:toStream" class="selflink">#</a></p><p class="src"><a href="#v:fromStream">fromStream</a> :: <a href="Streamly-Internal-Data-Stream-StreamK-Type.html#t:Stream" title="Streamly.Internal.Data.Stream.StreamK.Type">Stream</a> m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a <a href="src/Streamly.Internal.Data.Stream.StreamK.Type.html#fromStream" class="link">Source</a> <a href="#v:fromStream" class="selflink">#</a></p><p class="src"><a href="#v:consM">consM</a> :: <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m =&gt; m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a <a href="src/Streamly.Internal.Data.Stream.StreamK.Type.html#consM" class="link">Source</a> <a href="#v:consM" class="selflink">#</a></p><p class="src"><a href="#v:-124-:">(|:)</a> :: <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m =&gt; m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a <a href="src/Streamly.Internal.Data.Stream.StreamK.Type.html#%7C%3A" class="link">Source</a> <a href="#v:-124-:" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AsyncT:MonadState:3"></span> (<a href="https://hackage.haskell.org/package/mtl-2.2.2/docs/Control-Monad-State-Class.html#t:MonadState" title="Control.Monad.State.Class">MonadState</a> s m, <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m) =&gt; <a href="https://hackage.haskell.org/package/mtl-2.2.2/docs/Control-Monad-State-Class.html#t:MonadState" title="Control.Monad.State.Class">MonadState</a> s (<a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m)</span> <a href="src/Streamly.Internal.Data.Stream.Async.html#line-801" class="link">Source</a> <a href="#t:AsyncT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AsyncT:MonadState:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Stream-Async.html">Streamly.Internal.Data.Stream.Async</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:get">get</a> :: <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m s <a href="#v:get" class="selflink">#</a></p><p class="src"><a href="#v:put">put</a> :: s -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m () <a href="#v:put" class="selflink">#</a></p><p class="src"><a href="#v:state">state</a> :: (s -&gt; (a, s)) -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a <a href="#v:state" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AsyncT:MonadReader:4"></span> (<a href="https://hackage.haskell.org/package/mtl-2.2.2/docs/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> r m, <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m) =&gt; <a href="https://hackage.haskell.org/package/mtl-2.2.2/docs/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> r (<a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m)</span> <a href="src/Streamly.Internal.Data.Stream.Async.html#line-801" class="link">Source</a> <a href="#t:AsyncT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AsyncT:MonadReader:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Stream-Async.html">Streamly.Internal.Data.Stream.Async</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ask">ask</a> :: <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m r <a href="#v:ask" class="selflink">#</a></p><p class="src"><a href="#v:local">local</a> :: (r -&gt; r) -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a <a href="#v:local" class="selflink">#</a></p><p class="src"><a href="#v:reader">reader</a> :: (r -&gt; a) -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a <a href="#v:reader" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AsyncT:MonadBase:5"></span> (MonadBase b m, <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m) =&gt; MonadBase b (<a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m)</span> <a href="src/Streamly.Internal.Data.Stream.Async.html#line-801" class="link">Source</a> <a href="#t:AsyncT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AsyncT:MonadBase:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Stream-Async.html">Streamly.Internal.Data.Stream.Async</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftBase">liftBase</a> :: b &#945; -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m &#945;</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AsyncT:Monad:6"></span> <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m =&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (<a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m)</span> <a href="src/Streamly.Internal.Data.Stream.Async.html#line-793" class="link">Source</a> <a href="#t:AsyncT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AsyncT:Monad:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Stream-Async.html">Streamly.Internal.Data.Stream.Async</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> :: <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a -&gt; (a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m b) -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m b <a href="#v:-62--62--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> :: <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m b -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m b <a href="#v:-62--62-" class="selflink">#</a></p><p class="src"><a href="#v:return">return</a> :: a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a <a href="#v:return" class="selflink">#</a></p><p class="src"><a href="#v:fail">fail</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a <a href="#v:fail" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AsyncT:Functor:7"></span> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> (<a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m)</span> <a href="src/Streamly.Internal.Data.Stream.Async.html#line-801" class="link">Source</a> <a href="#t:AsyncT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AsyncT:Functor:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Stream-Async.html">Streamly.Internal.Data.Stream.Async</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m b <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m b -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AsyncT:Applicative:8"></span> (<a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m) =&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> (<a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m)</span> <a href="src/Streamly.Internal.Data.Stream.Async.html#line-774" class="link">Source</a> <a href="#t:AsyncT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AsyncT:Applicative:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Stream-Async.html">Streamly.Internal.Data.Stream.Async</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> :: a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a <a href="#v:pure" class="selflink">#</a></p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> :: <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m (a -&gt; b) -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m b <a href="#v:-60--42--62-" class="selflink">#</a></p><p class="src"><a href="#v:liftA2">liftA2</a> :: (a -&gt; b -&gt; c) -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m b -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m c <a href="#v:liftA2" class="selflink">#</a></p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> :: <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m b -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m b <a href="#v:-42--62-" class="selflink">#</a></p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> :: <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m b -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a <a href="#v:-60--42-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AsyncT:MonadIO:9"></span> (<a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m) =&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> (<a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m)</span> <a href="src/Streamly.Internal.Data.Stream.Async.html#line-801" class="link">Source</a> <a href="#t:AsyncT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AsyncT:MonadIO:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Stream-Async.html">Streamly.Internal.Data.Stream.Async</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftIO">liftIO</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a <a href="#v:liftIO" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AsyncT:MonadThrow:10"></span> (MonadThrow m, <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m) =&gt; MonadThrow (<a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m)</span> <a href="src/Streamly.Internal.Data.Stream.Async.html#line-801" class="link">Source</a> <a href="#t:AsyncT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AsyncT:MonadThrow:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Stream-Async.html">Streamly.Internal.Data.Stream.Async</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:throwM">throwM</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> e =&gt; e -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AsyncT:Semigroup:11"></span> <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m =&gt; <a href="Streamly.html#t:Semigroup" title="Streamly">Semigroup</a> (<a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a)</span> <a href="src/Streamly.Internal.Data.Stream.Async.html#line-752" class="link">Source</a> <a href="#t:AsyncT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AsyncT:Semigroup:11"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Stream-Async.html">Streamly.Internal.Data.Stream.Async</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> :: <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> (<a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a) -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Prelude.html#t:Integral" title="Prelude">Integral</a> b =&gt; b -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a <a href="#v:stimes" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AsyncT:Monoid:12"></span> <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m =&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> (<a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a)</span> <a href="src/Streamly.Internal.Data.Stream.Async.html#line-759" class="link">Source</a> <a href="#t:AsyncT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AsyncT:Monoid:12"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Stream-Async.html">Streamly.Internal.Data.Stream.Async</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> :: <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> :: <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> :: [<a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a] -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a <a href="#v:mconcat" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Async" class="def">Async</a> = <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> <a href="src/Streamly.Internal.Data.Stream.Async.html#Async" class="link">Source</a> <a href="#t:Async" class="selflink">#</a></p><div class="doc"><p>A demand driven left biased parallely composing IO stream of elements of
 type <code>a</code>.  See <code><a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a></code> documentation for more details.</p><p><em>Since: 0.2.0</em></p></div></div><div class="top"><p class="src"><a id="v:asyncly" class="def">asyncly</a> :: <a href="Streamly-Internal-Data-Stream-StreamK-Type.html#t:IsStream" title="Streamly.Internal.Data.Stream.StreamK.Type">IsStream</a> t =&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a> m a -&gt; t m a <a href="src/Streamly.Internal.Data.Stream.Async.html#asyncly" class="link">Source</a> <a href="#v:asyncly" class="selflink">#</a></p><div class="doc"><p>Fix the type of a polymorphic stream as <code><a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a></code>.</p><p><em>Since: 0.1.0</em></p></div></div><div class="top"><p class="src"><a id="v:async" class="def">async</a> :: (<a href="Streamly-Internal-Data-Stream-StreamK-Type.html#t:IsStream" title="Streamly.Internal.Data.Stream.StreamK.Type">IsStream</a> t, <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m) =&gt; t m a -&gt; t m a -&gt; t m a <a href="src/Streamly.Internal.Data.Stream.Async.html#async" class="link">Source</a> <a href="#v:async" class="selflink">#</a></p><div class="doc"><p>Polymorphic version of the <code><a href="Streamly.html#t:Semigroup" title="Streamly">Semigroup</a></code> operation <code><a href="Streamly.html#v:-60--62-" title="Streamly">&lt;&gt;</a></code> of <code><a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a></code>.
 Merges two streams possibly concurrently, preferring the
 elements from the left one when available.</p><p><em>Since: 0.2.0</em></p></div></div><div class="top"><p class="src"><a id="v:-60--124-" class="def">(&lt;|)</a> :: (<a href="Streamly-Internal-Data-Stream-StreamK-Type.html#t:IsStream" title="Streamly.Internal.Data.Stream.StreamK.Type">IsStream</a> t, <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m) =&gt; t m a -&gt; t m a -&gt; t m a <a href="src/Streamly.Internal.Data.Stream.Async.html#%3C%7C" class="link">Source</a> <a href="#v:-60--124-" class="selflink">#</a></p><div class="doc"><div class="warning"><p>Deprecated: Please use <code><a href="Streamly-Internal-Data-Stream-Async.html#v:async" title="Streamly.Internal.Data.Stream.Async">async</a></code> instead.</p></div><p>Same as <code><a href="Streamly-Internal-Data-Stream-Async.html#v:async" title="Streamly.Internal.Data.Stream.Async">async</a></code>.</p><p><em>Since: 0.1.0</em></p></div></div><div class="top"><p class="src"><a id="v:mkAsync" class="def">mkAsync</a> :: (<a href="Streamly-Internal-Data-Stream-StreamK-Type.html#t:IsStream" title="Streamly.Internal.Data.Stream.StreamK.Type">IsStream</a> t, <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m) =&gt; t m a -&gt; t m a <a href="src/Streamly.Internal.Data.Stream.Async.html#mkAsync" class="link">Source</a> <a href="#v:mkAsync" class="selflink">#</a></p><div class="doc"><p>Make the stream producer and consumer run concurrently by introducing a
 buffer between them. The producer thread evaluates the input stream until
 the buffer fills, it terminates if the buffer is full and a worker thread is
 kicked off again to evaluate the remaining stream when there is space in the
 buffer.  The consumer consumes the stream lazily from the buffer.</p><p><em>Internal</em></p></div></div><div class="top"><p class="src"><a id="v:mkAsyncK" class="def">mkAsyncK</a> :: (<a href="Streamly-Internal-Data-Stream-StreamK-Type.html#t:IsStream" title="Streamly.Internal.Data.Stream.StreamK.Type">IsStream</a> t, <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m) =&gt; t m a -&gt; t m a <a href="src/Streamly.Internal.Data.Stream.Async.html#mkAsyncK" class="link">Source</a> <a href="#v:mkAsyncK" class="selflink">#</a></p><div class="doc"><p>Generate a stream asynchronously to keep it buffered, lazily consume
 from the buffer.</p><p><em>Internal</em></p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:WAsyncT" class="def">WAsyncT</a> m a <a href="src/Streamly.Internal.Data.Stream.Async.html#WAsyncT" class="link">Source</a> <a href="#t:WAsyncT" class="selflink">#</a></p><div class="doc"><p><code><a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a></code> is similar to <code>WSerialT</code> but with concurrent execution.
 The <code><a href="Streamly.html#t:Semigroup" title="Streamly">Semigroup</a></code> operation (<code>&lt;&gt;</code>) for <code><a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a></code> merges two streams
 concurrently interleaving the actions from both the streams.  In <code>s1
 &lt;&gt; s2 &lt;&gt; s3 ...</code>, the individual actions from streams <code>s1</code>, <code>s2</code> and <code>s3</code>
 are scheduled for execution in a round-robin fashion.  Multiple scheduled
 actions may be executed concurrently, the results from concurrent executions
 are consumed in the order in which they become available.</p><p>The <code>W</code> in the name stands for <code>wide</code> or breadth wise scheduling in
 contrast to the depth wise scheduling behavior of <code><a href="Streamly-Internal-Data-Stream-Async.html#t:AsyncT" title="Streamly.Internal.Data.Stream.Async">AsyncT</a></code>.</p><pre>import <a href="Streamly.html">Streamly</a>
import qualified <a href="Streamly-Prelude.html">Streamly.Prelude</a> as S
import Control.Concurrent

main = (S.toList . <code><a href="Streamly-Internal-Data-Stream-Async.html#v:wAsyncly" title="Streamly.Internal.Data.Stream.Async">wAsyncly</a></code> . maxThreads 1 $ (S.fromList [1,2]) &lt;&gt; (S.fromList [3,4])) &gt;&gt;= print
</pre><pre>[1,3,2,4]
</pre><p>For this example, we are using <code>maxThreads 1</code> so that concurrent thread
 scheduling does not affect the results and make them unpredictable. Let's
 now take a more general example:</p><pre>main = (S.toList . <code><a href="Streamly-Internal-Data-Stream-Async.html#v:wAsyncly" title="Streamly.Internal.Data.Stream.Async">wAsyncly</a></code> . maxThreads 1 $ (S.fromList [1,2,3]) &lt;&gt; (S.fromList [4,5,6]) &lt;&gt; (S.fromList [7,8,9])) &gt;&gt;= print
</pre><pre>[1,4,2,7,5,3,8,6,9]
</pre><p>This is how the execution of the above stream proceeds:</p><ol><li>The scheduler queue is initialized with <code>[S.fromList [1,2,3],
 (S.fromList [4,5,6]) &lt;&gt; (S.fromList [7,8,9])]</code> assuming the head of the
 queue is represented by the  rightmost item.</li><li><code>S.fromList [1,2,3]</code> is executed, yielding the element <code>1</code> and putting
 <code>[2,3]</code> at the back of the scheduler queue. The scheduler queue now looks
 like <code>[(S.fromList [4,5,6]) &lt;&gt; (S.fromList [7,8,9]), S.fromList [2,3]]</code>.</li><li>Now <code>(S.fromList [4,5,6]) &lt;&gt; (S.fromList [7,8,9])</code> is picked up for
 execution, <code>S.fromList [7,8,9]</code> is added at the back of the queue and
 <code>S.fromList [4,5,6]</code> is executed, yielding the element <code>4</code> and adding
 <code>S.fromList [5,6]</code> at the back of the queue. The queue now looks like
 <code>[S.fromList [2,3], S.fromList [7,8,9], S.fromList [5,6]]</code>.</li><li>Note that the scheduler queue expands by one more stream component in
 every pass because one more <code>&lt;&gt;</code> is broken down into two components. At this
 point there are no more <code>&lt;&gt;</code> operations to be broken down further and the
 queue has reached its maximum size. Now these streams are scheduled in
 round-robin fashion yielding <code>[2,7,5,3,8,8,9]</code>.</li></ol><p>As we see above, in a right associated expression composed with <code>&lt;&gt;</code>, only
 one <code>&lt;&gt;</code> operation is broken down into two components in one execution,
 therefore, if we have <code>n</code> streams composed using <code>&lt;&gt;</code> it will take <code>n</code>
 scheduler passes to expand the whole expression.  By the time <code>n-th</code>
 component is added to the scheduler queue, the first component would have
 received <code>n</code> scheduler passes.</p><p>Since all streams get interleaved, this operation is not suitable for
 folding an infinite lazy container of infinite size streams.  However, if
 the streams are small, the streams on the left may get finished before more
 streams are added to the scheduler queue from the right side of the
 expression, so it may be possible to fold an infinite lazy container of
 streams. For example, if the streams are of size <code>n</code> then at most <code>n</code>
 streams would be in the scheduler queue at a time.</p><p>Note that <code>WSerialT</code> and <code><a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a></code> differ in their scheduling behavior,
 therefore the output of <code><a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a></code> even with a single thread of execution is
 not the same as that of <code>WSerialT</code> See notes in <code>WSerialT</code> for details about
 its scheduling behavior.</p><p>Any exceptions generated by a constituent stream are propagated to the
 output stream. The output and exceptions from a single stream are guaranteed
 to arrive in the same order in the resulting stream as they were generated
 in the input stream. However, the relative ordering of elements from
 different streams in the resulting stream can vary depending on scheduling
 and generation delays.</p><p>Similarly, the <code><a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a></code> instance of <code><a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a></code> runs <em>all</em> iterations fairly
 concurrently using a round robin scheduling.</p><pre>main = <code>drain</code> . <code><a href="Streamly-Internal-Data-Stream-Async.html#v:wAsyncly" title="Streamly.Internal.Data.Stream.Async">wAsyncly</a></code> $ do
    n &lt;- return 3 &lt;&gt; return 2 &lt;&gt; return 1
    S.yieldM $ do
         threadDelay (n * 1000000)
         myThreadId &gt;&gt;= \tid -&gt; putStrLn (show tid ++ &quot;: Delay &quot; ++ show n)
</pre><pre>ThreadId 40: Delay 1
ThreadId 39: Delay 2
ThreadId 38: Delay 3
</pre><p><em>Since: 0.2.0</em></p></div><div class="subs instances"><details id="i:WAsyncT" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WAsyncT:MonadTrans:1"></span> <a href="https://hackage.haskell.org/package/transformers-0.5.5.0/docs/Control-Monad-Trans-Class.html#t:MonadTrans" title="Control.Monad.Trans.Class">MonadTrans</a> <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a></span> <a href="src/Streamly.Internal.Data.Stream.Async.html#line-920" class="link">Source</a> <a href="#t:WAsyncT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WAsyncT:MonadTrans:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Stream-Async.html">Streamly.Internal.Data.Stream.Async</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lift">lift</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a <a href="#v:lift" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WAsyncT:IsStream:2"></span> <a href="Streamly-Internal-Data-Stream-StreamK-Type.html#t:IsStream" title="Streamly.Internal.Data.Stream.StreamK.Type">IsStream</a> <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a></span> <a href="src/Streamly.Internal.Data.Stream.Async.html#line-934" class="link">Source</a> <a href="#t:WAsyncT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WAsyncT:IsStream:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Stream-Async.html">Streamly.Internal.Data.Stream.Async</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toStream">toStream</a> :: <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a -&gt; <a href="Streamly-Internal-Data-Stream-StreamK-Type.html#t:Stream" title="Streamly.Internal.Data.Stream.StreamK.Type">Stream</a> m a <a href="src/Streamly.Internal.Data.Stream.StreamK.Type.html#toStream" class="link">Source</a> <a href="#v:toStream" class="selflink">#</a></p><p class="src"><a href="#v:fromStream">fromStream</a> :: <a href="Streamly-Internal-Data-Stream-StreamK-Type.html#t:Stream" title="Streamly.Internal.Data.Stream.StreamK.Type">Stream</a> m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a <a href="src/Streamly.Internal.Data.Stream.StreamK.Type.html#fromStream" class="link">Source</a> <a href="#v:fromStream" class="selflink">#</a></p><p class="src"><a href="#v:consM">consM</a> :: <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m =&gt; m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a <a href="src/Streamly.Internal.Data.Stream.StreamK.Type.html#consM" class="link">Source</a> <a href="#v:consM" class="selflink">#</a></p><p class="src"><a href="#v:-124-:">(|:)</a> :: <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m =&gt; m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a <a href="src/Streamly.Internal.Data.Stream.StreamK.Type.html#%7C%3A" class="link">Source</a> <a href="#v:-124-:" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WAsyncT:MonadState:3"></span> (<a href="https://hackage.haskell.org/package/mtl-2.2.2/docs/Control-Monad-State-Class.html#t:MonadState" title="Control.Monad.State.Class">MonadState</a> s m, <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m) =&gt; <a href="https://hackage.haskell.org/package/mtl-2.2.2/docs/Control-Monad-State-Class.html#t:MonadState" title="Control.Monad.State.Class">MonadState</a> s (<a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m)</span> <a href="src/Streamly.Internal.Data.Stream.Async.html#line-998" class="link">Source</a> <a href="#t:WAsyncT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WAsyncT:MonadState:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Stream-Async.html">Streamly.Internal.Data.Stream.Async</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:get">get</a> :: <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m s <a href="#v:get" class="selflink">#</a></p><p class="src"><a href="#v:put">put</a> :: s -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m () <a href="#v:put" class="selflink">#</a></p><p class="src"><a href="#v:state">state</a> :: (s -&gt; (a, s)) -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a <a href="#v:state" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WAsyncT:MonadReader:4"></span> (<a href="https://hackage.haskell.org/package/mtl-2.2.2/docs/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> r m, <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m) =&gt; <a href="https://hackage.haskell.org/package/mtl-2.2.2/docs/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> r (<a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m)</span> <a href="src/Streamly.Internal.Data.Stream.Async.html#line-998" class="link">Source</a> <a href="#t:WAsyncT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WAsyncT:MonadReader:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Stream-Async.html">Streamly.Internal.Data.Stream.Async</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ask">ask</a> :: <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m r <a href="#v:ask" class="selflink">#</a></p><p class="src"><a href="#v:local">local</a> :: (r -&gt; r) -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a <a href="#v:local" class="selflink">#</a></p><p class="src"><a href="#v:reader">reader</a> :: (r -&gt; a) -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a <a href="#v:reader" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WAsyncT:MonadBase:5"></span> (MonadBase b m, <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m) =&gt; MonadBase b (<a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m)</span> <a href="src/Streamly.Internal.Data.Stream.Async.html#line-998" class="link">Source</a> <a href="#t:WAsyncT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WAsyncT:MonadBase:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Stream-Async.html">Streamly.Internal.Data.Stream.Async</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftBase">liftBase</a> :: b &#945; -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m &#945;</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WAsyncT:Monad:6"></span> <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m =&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (<a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m)</span> <a href="src/Streamly.Internal.Data.Stream.Async.html#line-990" class="link">Source</a> <a href="#t:WAsyncT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WAsyncT:Monad:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Stream-Async.html">Streamly.Internal.Data.Stream.Async</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> :: <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a -&gt; (a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m b) -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m b <a href="#v:-62--62--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> :: <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m b -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m b <a href="#v:-62--62-" class="selflink">#</a></p><p class="src"><a href="#v:return">return</a> :: a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a <a href="#v:return" class="selflink">#</a></p><p class="src"><a href="#v:fail">fail</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a <a href="#v:fail" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WAsyncT:Functor:7"></span> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> (<a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m)</span> <a href="src/Streamly.Internal.Data.Stream.Async.html#line-998" class="link">Source</a> <a href="#t:WAsyncT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WAsyncT:Functor:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Stream-Async.html">Streamly.Internal.Data.Stream.Async</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m b <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m b -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WAsyncT:Applicative:8"></span> (<a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m) =&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> (<a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m)</span> <a href="src/Streamly.Internal.Data.Stream.Async.html#line-973" class="link">Source</a> <a href="#t:WAsyncT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WAsyncT:Applicative:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Stream-Async.html">Streamly.Internal.Data.Stream.Async</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> :: a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a <a href="#v:pure" class="selflink">#</a></p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> :: <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m (a -&gt; b) -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m b <a href="#v:-60--42--62-" class="selflink">#</a></p><p class="src"><a href="#v:liftA2">liftA2</a> :: (a -&gt; b -&gt; c) -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m b -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m c <a href="#v:liftA2" class="selflink">#</a></p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> :: <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m b -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m b <a href="#v:-42--62-" class="selflink">#</a></p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> :: <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m b -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a <a href="#v:-60--42-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WAsyncT:MonadIO:9"></span> (<a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m) =&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> (<a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m)</span> <a href="src/Streamly.Internal.Data.Stream.Async.html#line-998" class="link">Source</a> <a href="#t:WAsyncT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WAsyncT:MonadIO:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Stream-Async.html">Streamly.Internal.Data.Stream.Async</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftIO">liftIO</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a <a href="#v:liftIO" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WAsyncT:MonadThrow:10"></span> (MonadThrow m, <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m) =&gt; MonadThrow (<a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m)</span> <a href="src/Streamly.Internal.Data.Stream.Async.html#line-998" class="link">Source</a> <a href="#t:WAsyncT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WAsyncT:MonadThrow:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Stream-Async.html">Streamly.Internal.Data.Stream.Async</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:throwM">throwM</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> e =&gt; e -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WAsyncT:Semigroup:11"></span> <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m =&gt; <a href="Streamly.html#t:Semigroup" title="Streamly">Semigroup</a> (<a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a)</span> <a href="src/Streamly.Internal.Data.Stream.Async.html#line-949" class="link">Source</a> <a href="#t:WAsyncT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WAsyncT:Semigroup:11"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Stream-Async.html">Streamly.Internal.Data.Stream.Async</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> :: <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> (<a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a) -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> :: <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Prelude.html#t:Integral" title="Prelude">Integral</a> b =&gt; b -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a <a href="#v:stimes" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WAsyncT:Monoid:12"></span> <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m =&gt; <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> (<a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a)</span> <a href="src/Streamly.Internal.Data.Stream.Async.html#line-956" class="link">Source</a> <a href="#t:WAsyncT" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WAsyncT:Monoid:12"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streamly-Internal-Data-Stream-Async.html">Streamly.Internal.Data.Stream.Async</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> :: <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> :: <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> :: [<a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a] -&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a <a href="#v:mconcat" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:WAsync" class="def">WAsync</a> = <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> <a href="src/Streamly.Internal.Data.Stream.Async.html#WAsync" class="link">Source</a> <a href="#t:WAsync" class="selflink">#</a></p><div class="doc"><p>A round robin parallely composing IO stream of elements of type <code>a</code>.
 See <code><a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a></code> documentation for more details.</p><p><em>Since: 0.2.0</em></p></div></div><div class="top"><p class="src"><a id="v:wAsyncly" class="def">wAsyncly</a> :: <a href="Streamly-Internal-Data-Stream-StreamK-Type.html#t:IsStream" title="Streamly.Internal.Data.Stream.StreamK.Type">IsStream</a> t =&gt; <a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a> m a -&gt; t m a <a href="src/Streamly.Internal.Data.Stream.Async.html#wAsyncly" class="link">Source</a> <a href="#v:wAsyncly" class="selflink">#</a></p><div class="doc"><p>Fix the type of a polymorphic stream as <code><a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a></code>.</p><p><em>Since: 0.2.0</em></p></div></div><div class="top"><p class="src"><a id="v:wAsync" class="def">wAsync</a> :: (<a href="Streamly-Internal-Data-Stream-StreamK-Type.html#t:IsStream" title="Streamly.Internal.Data.Stream.StreamK.Type">IsStream</a> t, <a href="Streamly-Internal-Data-SVar.html#t:MonadAsync" title="Streamly.Internal.Data.SVar">MonadAsync</a> m) =&gt; t m a -&gt; t m a -&gt; t m a <a href="src/Streamly.Internal.Data.Stream.Async.html#wAsync" class="link">Source</a> <a href="#v:wAsync" class="selflink">#</a></p><div class="doc"><p>Polymorphic version of the <code><a href="Streamly.html#t:Semigroup" title="Streamly">Semigroup</a></code> operation <code><a href="Streamly.html#v:-60--62-" title="Streamly">&lt;&gt;</a></code> of <code><a href="Streamly-Internal-Data-Stream-Async.html#t:WAsyncT" title="Streamly.Internal.Data.Stream.Async">WAsyncT</a></code>.
 Merges two streams concurrently choosing elements from both fairly.</p><p><em>Since: 0.2.0</em></p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>